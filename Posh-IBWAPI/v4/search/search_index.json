{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Posh-IBWAPI","text":"<p>A PowerShell module to help with Infoblox automation via WAPI requests and functions. It is not intended to wrap every object into a set of custom cmdlets or strong types. Instead, it aims to hide the some of the tedious complexity in calling the Infoblox REST API via PowerShell.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>Automatic paging for large GET result sets (Requires WAPI version 1.5+)</li> <li>Automatic session handling</li> <li><code>Receive-IBFile</code> and <code>Send-IBFile</code> wrappers for upload/download WAPI functions. (Guide)</li> <li>Optionally return all fields for an object without needing to specify each one individually (Requires WAPI version 1.7.5+)</li> <li>Use <code>Get-IBSchema</code> for Get-Help style querying of the WAPI object model (Requires WAPI version 1.7.5+). (Guide)</li> <li>Error details in the body of HTTP 400 responses are exposed instead of being swallowed by Invoke-RestMethod.</li> <li>Optionally batch pipelined requests to increase performance.</li> <li>Optionally ignore certificate validation errors.</li> <li>Save connection profiles to use automatically with functions instead of supplying them to each call. Multiple profiles supported for multi-grid environments or differing credentials on the same grid.</li> <li>SecretManagement support for connection profiles. (Guide)</li> <li>Cloud friendly stateless mode supported via environment variables. (Guide)</li> <li>Cross-platform PowerShell support</li> </ul>"},{"location":"#installation-stable","title":"Installation (Stable)","text":"<p>The latest release can found in the PowerShell Gallery or the GitHub releases page. Installing is easiest from the gallery using <code>Install-Module</code>. See Installing PowerShellGet if you run into problems with it.</p> <pre><code># install for all users (requires elevated privs)\nInstall-Module -Name Posh-IBWAPI -Scope AllUsers\n\n# install for current user\nInstall-Module -Name Posh-IBWAPI -Scope CurrentUser\n</code></pre> <p>Warning</p> <p>If you use PowerShell 5.1 or earlier, <code>Install-Module</code> may throw an error depending on your Windows and .NET version due to a change PowerShell Gallery made to their TLS settings. For more info and a workaround, see the official blog post.</p>"},{"location":"#installation-development","title":"Installation (Development)","text":"<p>Use the following PowerShell command to install the latest development version from the git <code>main</code> branch. This method assumes a default <code>PSModulePath</code> environment variable and installs to the CurrentUser scope.</p> <pre><code>iex (irm https://raw.githubusercontent.com/rmbolger/Posh-IBWAPI/main/instdev.ps1)\n</code></pre> <p>You can also download the source manually from GitHub and extract the <code>Posh-IBWAPI</code> folder to your desired module location.</p>"},{"location":"#quick-start","title":"Quick Start","text":"<p>Every WAPI call needs a host, version, and credentials. Set them once using <code>Set-IBConfig</code> and you won't need to add them to every call. If your grid is still using self-signed certs, you may also need to use the <code>SkipCertificateCheck</code> parameter. In addition to standard version numbers like <code>'2.2'</code>, the <code>-WAPIVersion</code> parameter also accepts <code>'latest'</code> and will query the grid master for the latest supported version.</p> <pre><code>Set-IBConfig -ProfileName 'mygrid' -WAPIHost 'gridmaster.example.com' `\n    -WAPIVersion 'latest' -Credential (Get-Credential) -SkipCertificateCheck\n</code></pre> <p>Retrieve a set of objects using <code>Get-IBObject</code>. The only required parameter is <code>ObjectType</code>. Everything else like filters and return fields are optional.</p> <pre><code>Get-IBObject 'record:host'\nGet-IBObject 'record:host' -Filter @{'name~'='example\\.com'} -MaxResults 10 -ReturnField 'extattrs'\n</code></pre> <p>If you're just exploring the WAPI object model, it can be helpful to convert the resulting objects back to JSON for readability.</p> <pre><code>Get-IBObject 'record:host' | Select -First 1 | ConvertTo-Json -Depth 5\n</code></pre> <p>You may notice that all objects returned by Infoblox have a <code>_ref</code> field. That is known as the object reference and can be used in any function that accepts an <code>ObjectRef</code> parameter. In the case of <code>Get-IBObject</code>, it will return that specific object.</p> <pre><code>Get-IBObject -ObjectRef 'record:host/asdfqwerasdfqwerasdfqwerasdfqwer'\n</code></pre> <p>Create a new object with <code>New-IBObject</code> by supplying the object type and an object with the minimum required fields defined. Embedded WAPI functions work just fine here.</p> <pre><code># Build the record:host object we want to create.\n# NOTE: An error will be thrown if the example.com DNS zone doesn't\n# exist in Infoblox\n$newhost = @{\n    name = 'web1.example.com'\n    ipv4addrs = @(\n        @{ ipv4addr = '10.10.10.1' }\n    )\n    comment = 'web server'\n}\n\n# Create the object\nNew-IBObject -ObjectType 'record:host' -IBObject $newhost\n\n# Modify the object so we can make another and this time use an\n# embedded function to set the IP address.\n$newhost.name = 'web2.example.com'\n$newhost.ipv4addrs = @(\n    @{ ipv4addr = 'func:nextavailableip:10.10.10.0/24'}\n)\nNew-IBObject -ObjectType 'record:host' -IBObject $newhost\n</code></pre> <p>To modify an existing object, the easiest way is usually to get a copy of it, modify the copy, and save the result with <code>Set-IBObject</code>. Be wary of objects that return read-only fields. You need to strip them out before saving or an error will be thrown.</p> <pre><code># Get a copy of the host\n$myhost = Get-IBObject 'record:host' -Filter 'name=web1.example.com'\n\n# Modify the first listed IP address\n$myhost.ipv4addrs[0].ipv4addr = '10.10.10.100'\n\n# remove the read-only 'host' field from the nested 'record:host_ipv4addr' object\n$myhost.ipv4addrs[0].PSObject.Properties.Remove('host')\n\n# Save the result\n$myhost | Set-IBObject\n</code></pre> <p>If you need to make the same change to a set of objects, you can also pass the set of object references via the pipeline and use a template object to change all of them in the same way.</p> <pre><code># Get all hosts in the Los Angeles site\n$laHosts = Get-IBObject 'record:host' -Filter @{'*Site'='Los Angeles'}\n\n# Move them to the New York site\n$laHosts | Set-IBObject -Template @{extattrs=@{Site=@{value='New York'}}}\n</code></pre> <p>Deleting one or more objects is as simple as passing one or more object references to <code>Remove-IBObject</code>.</p> <pre><code># Get hosts being decommissioned\n$toDelete = Get-IBObject 'record:host' -Filter 'comment=decommission'\n\n# Delete them\n$toDelete | Remove-IBObject\n</code></pre> <p>For more examples, check the Definitive REST Examples guide.</p>"},{"location":"#requirements-and-platform-support","title":"Requirements and Platform Support","text":"<ul> <li>Supports Windows PowerShell 5.1 (Desktop edition) with .NET Framework 4.5.2 or later</li> <li>Supports PowerShell 7.0 or later (Core edition) on all supported OS platforms.</li> <li>Supports any NIOS/WAPI version, but only regularly tested against Infoblox supported versions.</li> </ul>"},{"location":"#changelog","title":"Changelog","text":"<p>See CHANGELOG.md</p>"},{"location":"FAQ/","title":"Frequently Asked Questions (FAQ)","text":""},{"location":"FAQ/#does-posh-ibwapi-work-cross-platform-on-powershell-core","title":"Does Posh-IBWAPI work cross platform on PowerShell (Core)?","text":"<p>YES! While I will likely only be actively testing on the latest released PowerShell version, any version still supported by Microsoft according to the PowerShell Support Lifecycle will continue to be supported. All OS platforms supported by a given PowerShell version are supported by the module.</p>"},{"location":"FAQ/#the-underlying-connection-was-closed-cloud-not-establish-trust-relationship-for-the-ssltls-secure-channel","title":"The underlying connection was closed: Cloud not establish trust relationship for the SSL/TLS secure channel.","text":"<p>Your Infoblox is either still using a self-signed SSL certificate or the custom certificate it's using is no longer valid. You can ignore certificate validation using the <code>-SkipCertificateCheck</code> parameter on most functions or set it in your connection profile using <code>Set-IBConfig</code>.</p>"},{"location":"FAQ/#invoke-restmethod-ssl-connect-error","title":"Invoke-RestMethod: SSL connect error","text":"<p>Your Infoblox is either still using a self-signed SSL certificate or the custom certificate it's using is no longer valid. You can ignore certificate validation using the <code>-SkipCertificateCheck</code> parameter on most functions or set it in your connection profile using <code>Set-IBConfig</code>.</p>"},{"location":"FAQ/#convertto-json-doesnt-seem-to-be-converting-all-nested-objects","title":"ConvertTo-Json doesn't seem to be converting all nested objects","text":"<p>There's a <code>-Depth</code> parameter that \"specifies how many levels of contained objects are included in the JSON representation\". The default is 2 which is insufficient for some Infoblox objects. I usually set it to 5 just to be safe.</p>"},{"location":"FAQ/#-skipcertificatecheck-not-working-consistently-when-used-in-the-same-session-as-vmware-powercli","title":"-SkipCertificateCheck not working consistently when used in the same session as VMware PowerCLI","text":"<p>In legacy Windows PowerShell 5.1, there is unfortunately no native support in <code>Invoke-RestMethod</code> (or any related cmdlet) for per-call disabling of certificate validation. Validation logic is controlled globally at the .NET level on a per-session basis in System.Net.ServicePointManager. In order to mimic a per-call disable flag, we're essentially disabling cert validation globally just long enough to make our call to <code>Invoke-RestMethod</code> and then setting it back to the default functionality.  But our ServicePointManager tweaks seem to sometimes conflict with whatever VMware is doing with PowerCLI to disable certificate validation.</p> <p>The current recommendation is to just let PowerCLI take care of disabling validation and skip using the option in Posh-IBWAPI. Switching to PowerShell 7+ will also avoid the problem because there is per-call disabling of certificate validation.</p>"},{"location":"FAQ/#key-not-valid-for-use-in-specified-state","title":"Key not valid for use in specified state","text":"<p>This happens when you try to copy a <code>posh-ibwapi.json</code> config file to a different Windows computer or a different user's profile on the same computer. The underlying APIs used to encrypt the password in the file are tied to both the current computer and user and are not portable. The rest of the config values should still be valid. You will just need to set new <code>-Credential</code> value with <code>Set-IBConfig</code>.</p> <p>Using a centralized SecretManagement vault is also another alternative to share profiles across users or computers.</p>"},{"location":"Functions/Get-IBConfig/","title":"Get-IBConfig","text":""},{"location":"Functions/Get-IBConfig/#synopsis","title":"Synopsis","text":"<p>Get one or more connection profiles.</p>"},{"location":"Functions/Get-IBConfig/#syntax","title":"Syntax","text":""},{"location":"Functions/Get-IBConfig/#specific-default","title":"Specific (Default)","text":"<pre><code>Get-IBConfig [[-ProfileName] &lt;String&gt;] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"Functions/Get-IBConfig/#list","title":"List","text":"<pre><code>Get-IBConfig [-List] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"Functions/Get-IBConfig/#description","title":"Description","text":"<p>When calling this function with no parameters, the currently active profile will be returned. These values will be used by related function calls to the Infoblox API unless they are overridden by the function's own parameters.</p> <p>When called with -ProfileName, the profile matching that name will be returned. When called with -List, all profiles will be returned.</p>"},{"location":"Functions/Get-IBConfig/#examples","title":"Examples","text":""},{"location":"Functions/Get-IBConfig/#example-1-current-profile","title":"Example 1: Current profile","text":"<pre><code>Get-IBConfig\n</code></pre> <p>Get the current connection profile.</p>"},{"location":"Functions/Get-IBConfig/#example-2-list-all-profiles","title":"Example 2: List all profiles","text":"<pre><code>Get-IBConfig -List\n</code></pre> <p>Get all connection profiles.</p>"},{"location":"Functions/Get-IBConfig/#parameters","title":"Parameters","text":""},{"location":"Functions/Get-IBConfig/#-list","title":"-List","text":"<p>If set, list all connection profiles currently stored.</p> <pre><code>Type: SwitchParameter\nParameter Sets: List\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBConfig/#-profilename","title":"-ProfileName","text":"<p>The name of the connection profile to return.</p> <pre><code>Type: String\nParameter Sets: Specific\nAliases:\n\nRequired: False\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBConfig/#commonparameters","title":"CommonParameters","text":"<p>This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see about_CommonParameters.</p>"},{"location":"Functions/Get-IBConfig/#outputs","title":"Outputs","text":""},{"location":"Functions/Get-IBConfig/#poshibwapiibconfig","title":"PoshIBWAPI.IBConfig","text":"<p>A config object</p>"},{"location":"Functions/Get-IBConfig/#related-links","title":"Related Links","text":"<p>Set-IBConfig</p> <p>Get-IBObject</p>"},{"location":"Functions/Get-IBObject/","title":"Get-IBObject","text":""},{"location":"Functions/Get-IBObject/#synopsis","title":"Synopsis","text":"<p>Retrieve objects from the Infoblox database.</p>"},{"location":"Functions/Get-IBObject/#syntax","title":"Syntax","text":""},{"location":"Functions/Get-IBObject/#bytype-default","title":"ByType (Default)","text":"<pre><code>Get-IBObject [-ObjectType] &lt;String&gt; [-Filter &lt;Object&gt;] [-MaxResults &lt;Int32&gt;] [-PageSize &lt;Int32&gt;]\n [-ReturnField &lt;String[]&gt;] [-ReturnBase] [-ReturnAll] [-ProxySearch] [-Inheritance] [-ProfileName &lt;String&gt;]\n [-WAPIHost &lt;String&gt;] [-WAPIVersion &lt;String&gt;] [-Credential &lt;PSCredential&gt;] [-SkipCertificateCheck] [-NoSession]\n [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"Functions/Get-IBObject/#bytypenopaging","title":"ByTypeNoPaging","text":"<pre><code>Get-IBObject [-ObjectType] &lt;String&gt; [-Filter &lt;Object&gt;] [-NoPaging] [-ReturnField &lt;String[]&gt;] [-ReturnBase]\n [-ReturnAll] [-ProxySearch] [-Inheritance] [-ProfileName &lt;String&gt;] [-WAPIHost &lt;String&gt;]\n [-WAPIVersion &lt;String&gt;] [-Credential &lt;PSCredential&gt;] [-SkipCertificateCheck] [-NoSession] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"Functions/Get-IBObject/#byref","title":"ByRef","text":"<pre><code>Get-IBObject [-ObjectRef] &lt;String&gt; [-ReturnField &lt;String[]&gt;] [-ReturnBase] [-ReturnAll] [-BatchMode]\n [-BatchGroupSize &lt;Int32&gt;] [-ProxySearch] [-Inheritance] [-ProfileName &lt;String&gt;] [-WAPIHost &lt;String&gt;]\n [-WAPIVersion &lt;String&gt;] [-Credential &lt;PSCredential&gt;] [-SkipCertificateCheck] [-NoSession] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"Functions/Get-IBObject/#description","title":"Description","text":"<p>Query a specific object's details by specifying ObjectRef or search for a set of objects using ObjectType and optional Filter arguments. For large result sets, query pagination will automatically be used to fetch all results. The result count can be limited with the -MaxResults parameter.</p>"},{"location":"Functions/Get-IBObject/#examples","title":"Examples","text":""},{"location":"Functions/Get-IBObject/#example-1-get-specific-object","title":"Example 1: Get specific object","text":"<pre><code>Get-IBObject -ObjectRef 'record:host/XxXxXxXxXxXxXxX'\n</code></pre> <p>Get the basic fields for a specific Host record.</p>"},{"location":"Functions/Get-IBObject/#example-2-get-a-records-with-filters","title":"Example 2: Get A records with filters","text":"<pre><code>Get-IBObject 'record:a' -Filter @{'name~'='example\\.com'} -MaxResults 100 -ReturnField 'comment' -ReturnBase\n</code></pre> <p>Get the first 100 A records in the example.com DNS zone and return the comment field in addition to the basic fields.</p>"},{"location":"Functions/Get-IBObject/#example-3-get-network-containers-within-another-container","title":"Example 3: Get network containers within another container","text":"<pre><code>Get-IBObject -ObjectType 'networkcontainer' -Filter 'network_container=192.168.1.0/19'\n</code></pre> <p>Get all network containers that have a parent container of 192.168.1.0/19</p>"},{"location":"Functions/Get-IBObject/#example-4-get-networks-within-a-network-container","title":"Example 4: Get networks within a network container","text":"<pre><code>Get-IBObject -ObjectType 'network' -Filter 'network_container=192.168.1.0/20'\n</code></pre> <p>Get all networks that have a parent container of 192.168.1.0/20</p>"},{"location":"Functions/Get-IBObject/#parameters","title":"Parameters","text":""},{"location":"Functions/Get-IBObject/#-batchgroupsize","title":"-BatchGroupSize","text":"<p>The number of objects that should be sent in each group when -BatchMode is specified. The default is 1000.</p> <pre><code>Type: Int32\nParameter Sets: ByRef\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: 1000\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBObject/#-batchmode","title":"-BatchMode","text":"<p>If specified, objects passed via pipeline will be batched together into groups and sent as a single WAPI call per group instead of a WAPI call per object. This can increase performance but if any of the individual calls fail, the whole group is cancelled.</p> <pre><code>Type: SwitchParameter\nParameter Sets: ByRef\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBObject/#-credential","title":"-Credential","text":"<p>Username and password for the Infoblox appliance. This parameter is required unless it was already set using Set-IBConfig.</p> <pre><code>Type: PSCredential\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBObject/#-filter","title":"-Filter","text":"<p>A hashtable with search filter conditions (e.g. <code>@{'name~'='myhost';ipv4addr='10.10.10.10'}</code>). All conditions must be satisfied to match an object. The filters can also be specified as an array of strings but the field names and values must be URL encoded by the caller in advance (e.g. <code>\"name%7E=myhost\",\"ipv4addr=10.10.10.10\"</code>). With both methods, all conditions must be satisfied to match an object.</p> <p>NOTE: WAPI field names are case sensitive. The value specified for a field is also case sensitive unless using the case insensitive modififer, <code>:</code>, or accounting for case via regex.</p> <p>See Infoblox WAPI documentation for advanced usage details.</p> <pre><code>Type: Object\nParameter Sets: ByType, ByTypeNoPaging\nAliases: Filters\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBObject/#-inheritance","title":"-Inheritance","text":"<p>If specified, returned fields which support inheritance will display data properly. Requires WAPI 2.10.2+. WARNING: This may change the structure of the field's output.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBObject/#-maxresults","title":"-MaxResults","text":"<p>If set to a positive number, the results list will be truncated to that number if necessary. If set to a negative number and the results would exceed the absolute value, an error is thrown.</p> <pre><code>Type: Int32\nParameter Sets: ByType\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: 2147483647\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBObject/#-nopaging","title":"-NoPaging","text":"<p>If specified, automatic paging will not be used. This is occasionally necessary for some object type queries that return a single object reference such as dhcp:statistics.</p> <pre><code>Type: SwitchParameter\nParameter Sets: ByTypeNoPaging\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBObject/#-nosession","title":"-NoSession","text":"<p>If set, no sessions will be saved or used for this call.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBObject/#-objectref","title":"-ObjectRef","text":"<p>Object reference string. This is usually found in the \"_ref\" field of returned objects.</p> <pre><code>Type: String\nParameter Sets: ByRef\nAliases: _ref, ref\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: True (ByPropertyName, ByValue)\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBObject/#-objecttype","title":"-ObjectType","text":"<p>Object type string. (e.g. network, record:host, range)</p> <pre><code>Type: String\nParameter Sets: ByType, ByTypeNoPaging\nAliases: type\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBObject/#-pagesize","title":"-PageSize","text":"<p>The number of results to retrieve per request when auto-paging large result sets. Defaults to 1000. Set this lower if you have very large results that are causing errors with ConvertTo-Json.</p> <pre><code>Type: Int32\nParameter Sets: ByType\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: 1000\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBObject/#-profilename","title":"-ProfileName","text":"<p>The name of a specific config profile to use instead of the currently active one.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBObject/#-proxysearch","title":"-ProxySearch","text":"<p>If specified, the request is redirected to Grid manager for processing.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBObject/#-returnall","title":"-ReturnAll","text":"<p>If specified, all readable fields will be returned for the object. This switch relies on Get-IBSchema and as such requires WAPI 1.7.5+. Because of the additional web requests necessary to make this work, it is also not recommended for performance critical code.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases: all, ReturnAllFields\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBObject/#-returnbase","title":"-ReturnBase","text":"<p>If specified, the standard fields for this object type will be returned in addition to the object reference and any additional fields specified by -ReturnField. If -ReturnField is not used, this defaults to $true.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases: base, ReturnBaseFields\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBObject/#-returnfield","title":"-ReturnField","text":"<p>The set of fields that should be returned in addition to the object reference.</p> <pre><code>Type: String[]\nParameter Sets: (All)\nAliases: fields, ReturnFields\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBObject/#-skipcertificatecheck","title":"-SkipCertificateCheck","text":"<p>If set, SSL/TLS certificate validation will be disabled. Overrides value stored with Set-IBConfig.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBObject/#-wapihost","title":"-WAPIHost","text":"<p>The fully qualified DNS name or IP address of the Infoblox WAPI endpoint (usually the grid master). This parameter is required if not already set using Set-IBConfig.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: host\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBObject/#-wapiversion","title":"-WAPIVersion","text":"<p>The version of the Infoblox WAPI to make calls against (e.g. '2.2'). This parameter is required if not already set using Set-IBConfig.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: version\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBObject/#commonparameters","title":"CommonParameters","text":"<p>This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see about_CommonParameters.</p>"},{"location":"Functions/Get-IBObject/#outputs","title":"Outputs","text":""},{"location":"Functions/Get-IBObject/#pscustomobject","title":"PSCustomObject","text":"<p>Zero or more objects found by the search or object reference. If an object reference is specified that doesn't exist, an error will be thrown.</p>"},{"location":"Functions/Get-IBObject/#related-links","title":"Related Links","text":"<p>Set-IBConfig</p>"},{"location":"Functions/Get-IBSchema/","title":"Get-IBSchema","text":""},{"location":"Functions/Get-IBSchema/#synopsis","title":"Synopsis","text":"<p>Query the schema of an object or the base appliance.</p>"},{"location":"Functions/Get-IBSchema/#syntax","title":"Syntax","text":"<pre><code>Get-IBSchema [[-ObjectType] &lt;String&gt;] [-Raw] [-LaunchHTML] [[-Fields] &lt;String[]&gt;] [[-Operations] &lt;String[]&gt;]\n [-NoFields] [[-Functions] &lt;String[]&gt;] [-NoFunctions] [-Detailed] [[-ProfileName] &lt;String&gt;]\n [[-WAPIHost] &lt;String&gt;] [[-WAPIVersion] &lt;String&gt;] [[-Credential] &lt;PSCredential&gt;] [-SkipCertificateCheck]\n [-NoSession] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"Functions/Get-IBSchema/#description","title":"Description","text":"<p>Without any parameters, this function will return the base appliance schema object which includes the list of supported WAPI versions and object types. Providing an -ObjectType will return the schema object for that type which includes a list of supported fields and functions.</p>"},{"location":"Functions/Get-IBSchema/#examples","title":"Examples","text":""},{"location":"Functions/Get-IBSchema/#example-1-root-schema","title":"Example 1: Root schema","text":"<pre><code>Get-IBSchema\n</code></pre> <p>Get the root schema object.</p>"},{"location":"Functions/Get-IBSchema/#example-2-host-record-schema","title":"Example 2: Host record schema","text":"<pre><code>Get-IBSchema record:host\n</code></pre> <p>Get the record:host schema object.</p>"},{"location":"Functions/Get-IBSchema/#example-3-host-record-schema-raw-object","title":"Example 3: Host record schema raw object","text":"<pre><code>Get-IBSchema record:host -Raw\n</code></pre> <p>Get the record:host schema object in raw object form.</p>"},{"location":"Functions/Get-IBSchema/#example-4-specific-fields-from-grid-schema","title":"Example 4: Specific fields from grid schema","text":"<pre><code>Get-IBSchema grid -Fields enable*,name\n</code></pre> <p>Get the grid schema object and only include the name field and fields that start with 'enable'.</p>"},{"location":"Functions/Get-IBSchema/#example-5-searchable-fields-from-network-schema","title":"Example 5: Searchable fields from network schema","text":"<pre><code>Get-IBSchema network -Operations s -NoFunctions\n</code></pre> <p>Get the network schema object and only include fields that are searchable and skip function definitions.</p>"},{"location":"Functions/Get-IBSchema/#parameters","title":"Parameters","text":""},{"location":"Functions/Get-IBSchema/#-credential","title":"-Credential","text":"<p>Username and password for the Infoblox appliance. This parameter is required unless it was already set using Set-IBConfig.</p> <pre><code>Type: PSCredential\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 7\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBSchema/#-detailed","title":"-Detailed","text":"<p>If set, detailed output is displayed for field and function information. Otherwise, a simplified view is displayed.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBSchema/#-fields","title":"-Fields","text":"<p>A list of Field names to include in the output. Wildcards are supported. This parameter is ignored if -NoFields is specified. If neither is specified, all Fields will be included.</p> <pre><code>Type: String[]\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBSchema/#-functions","title":"-Functions","text":"<p>A list of Function names to include in the output. Wildcards are supported. This parameter is ignored if -NoFunctions is specified. If neither is specified, all Functions will be included.</p> <pre><code>Type: String[]\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 4\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBSchema/#-launchhtml","title":"-LaunchHTML","text":"<p>If set, PowerShell will attempt to launch a browser to the object's full HTML documentation page on the grid master. All additional display parameters are ignored except -Raw.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBSchema/#-nofields","title":"-NoFields","text":"<p>If set, the object's fields will not be included in the output.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBSchema/#-nofunctions","title":"-NoFunctions","text":"<p>If set, the object's functions will not be included in the output.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBSchema/#-nosession","title":"-NoSession","text":"<p>If set, no sessions will be saved or used for this call.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBSchema/#-objecttype","title":"-ObjectType","text":"<p>Object type string. (e.g. network, record:host, range). Partial names and wildcards are supported. If the ObjectType parameter would match multiple objects, the list of matching objects will be returned.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: type\n\nRequired: False\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBSchema/#-operations","title":"-Operations","text":"<p>A list of supported operation codes: r (read), w (write/create), u (update/set), s (search), d (delete). Only the Fields supporting at least one of these operations will be included in the output. If not specified, all Fields will be included.</p> <pre><code>Type: String[]\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 3\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBSchema/#-profilename","title":"-ProfileName","text":"<p>The name of a specific config profile to use instead of the currently active one.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 8\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBSchema/#-raw","title":"-Raw","text":"<p>If set, the schema object will be returned as-is rather than pretty printing the output. All additional display parameters are ignored except -LaunchHTML.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBSchema/#-skipcertificatecheck","title":"-SkipCertificateCheck","text":"<p>If set, SSL/TLS certificate validation will be disabled. Overrides value stored with Set-IBConfig.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBSchema/#-wapihost","title":"-WAPIHost","text":"<p>The fully qualified DNS name or IP address of the Infoblox WAPI endpoint (usually the grid master). This parameter is required if not already set using Set-IBConfig.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: host\n\nRequired: False\nPosition: 5\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBSchema/#-wapiversion","title":"-WAPIVersion","text":"<p>The version of the Infoblox WAPI to make calls against (e.g. '2.2'). This parameter is required if not already set using Set-IBConfig.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: version\n\nRequired: False\nPosition: 6\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Get-IBSchema/#commonparameters","title":"CommonParameters","text":"<p>This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see about_CommonParameters.</p>"},{"location":"Functions/Get-IBSchema/#related-links","title":"Related Links","text":"<p>Get-IBObject</p>"},{"location":"Functions/Invoke-IBFunction/","title":"Invoke-IBFunction","text":""},{"location":"Functions/Invoke-IBFunction/#synopsis","title":"Synopsis","text":"<p>Call a WAPI function</p>"},{"location":"Functions/Invoke-IBFunction/#syntax","title":"Syntax","text":"<pre><code>Invoke-IBFunction [-ObjectRef] &lt;String&gt; [-FunctionName] &lt;String&gt; [[-FunctionArgs] &lt;PSObject&gt;]\n [[-ProfileName] &lt;String&gt;] [[-WAPIHost] &lt;String&gt;] [[-WAPIVersion] &lt;String&gt;] [[-Credential] &lt;PSCredential&gt;]\n [-SkipCertificateCheck] [-NoSession] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"Functions/Invoke-IBFunction/#description","title":"Description","text":"<p>This function allows you to call a WAPI function given a specific object reference and the function details.</p>"},{"location":"Functions/Invoke-IBFunction/#examples","title":"Examples","text":""},{"location":"Functions/Invoke-IBFunction/#example-1-restart-grid-services","title":"Example 1: Restart grid services","text":"<pre><code>$grid = Get-IBObject -type grid\n$restartArgs = @{restart_option='RESTART_IF_NEEDED'}\n$grid | Invoke-IBFunction -name restartservices -args $restartArgs\n</code></pre> <p>Restart grid services if necessary.</p>"},{"location":"Functions/Invoke-IBFunction/#parameters","title":"Parameters","text":""},{"location":"Functions/Invoke-IBFunction/#-credential","title":"-Credential","text":"<p>Username and password for the Infoblox appliance. This parameter is required unless it was already set using Set-IBConfig.</p> <pre><code>Type: PSCredential\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 6\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Invoke-IBFunction/#-functionargs","title":"-FunctionArgs","text":"<p>An object with the required parameters for the function.</p> <pre><code>Type: PSObject\nParameter Sets: (All)\nAliases: args\n\nRequired: False\nPosition: 3\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Invoke-IBFunction/#-functionname","title":"-FunctionName","text":"<p>The name of the function to call.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: name\n\nRequired: True\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Invoke-IBFunction/#-nosession","title":"-NoSession","text":"<p>If set, no sessions will be saved or used for this call.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Invoke-IBFunction/#-objectref","title":"-ObjectRef","text":"<p>Object reference string. This is usually found in the \"_ref\" field of returned objects.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: _ref, ref\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: True (ByPropertyName, ByValue)\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Invoke-IBFunction/#-profilename","title":"-ProfileName","text":"<p>The name of a specific config profile to use instead of the currently active one.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 7\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Invoke-IBFunction/#-skipcertificatecheck","title":"-SkipCertificateCheck","text":"<p>If set, SSL/TLS certificate validation will be disabled. Overrides value stored with Set-IBConfig.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Invoke-IBFunction/#-wapihost","title":"-WAPIHost","text":"<p>The fully qualified DNS name or IP address of the Infoblox WAPI endpoint (usually the grid master). This parameter is required if not already set using Set-IBConfig.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: host\n\nRequired: False\nPosition: 4\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Invoke-IBFunction/#-wapiversion","title":"-WAPIVersion","text":"<p>The version of the Infoblox WAPI to make calls against (e.g. '2.2').</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: version\n\nRequired: False\nPosition: 5\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Invoke-IBFunction/#-confirm","title":"-Confirm","text":"<p>Prompts you for confirmation before running the cmdlet.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases: cf\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Invoke-IBFunction/#-whatif","title":"-WhatIf","text":"<p>Shows what would happen if the cmdlet runs. The cmdlet is not run.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases: wi\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Invoke-IBFunction/#commonparameters","title":"CommonParameters","text":"<p>This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see about_CommonParameters.</p>"},{"location":"Functions/Invoke-IBFunction/#related-links","title":"Related Links","text":"<p>Get-IBObject</p>"},{"location":"Functions/Invoke-IBWAPI/","title":"Invoke-IBWAPI","text":""},{"location":"Functions/Invoke-IBWAPI/#synopsis","title":"Synopsis","text":"<p>Send a request to the Infoblox WAPI (REST API).</p>"},{"location":"Functions/Invoke-IBWAPI/#syntax","title":"Syntax","text":""},{"location":"Functions/Invoke-IBWAPI/#uri-default","title":"Uri (Default)","text":"<pre><code>Invoke-IBWAPI [-Uri] &lt;Uri&gt; [-Method &lt;WebRequestMethod&gt;] [-Credential &lt;PSCredential&gt;] [-Body &lt;Object&gt;]\n [-ContentType &lt;String&gt;] [-OutFile &lt;String&gt;] [-SessionVariable &lt;String&gt;] [-WebSession &lt;WebRequestSession&gt;]\n [-NoSession] [-SkipCertificateCheck] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"Functions/Invoke-IBWAPI/#hostversion","title":"HostVersion","text":"<pre><code>Invoke-IBWAPI [-WAPIHost] &lt;String&gt; [-WAPIVersion] &lt;String&gt; [-Query] &lt;String&gt; [-Method &lt;WebRequestMethod&gt;]\n [-Credential &lt;PSCredential&gt;] [-Body &lt;Object&gt;] [-ContentType &lt;String&gt;] [-OutFile &lt;String&gt;]\n [-SessionVariable &lt;String&gt;] [-WebSession &lt;WebRequestSession&gt;] [-NoSession] [-SkipCertificateCheck] [-WhatIf]\n [-Confirm] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"Functions/Invoke-IBWAPI/#description","title":"Description","text":"<p>This function is largely just a wrapper around Invoke-RestMethod that supports trapping and exposing syntax errors with the WAPI and the ability to ignore certificate validation. It is what all of the *-IBObject functions use under the hood and shouldn't be necessary to call directly most of the time.</p>"},{"location":"Functions/Invoke-IBWAPI/#examples","title":"Examples","text":""},{"location":"Functions/Invoke-IBWAPI/#example-1-get-network-objects","title":"Example 1: Get network objects","text":"<pre><code>Invoke-IBWAPI -Uri 'https://gridmaster.example.com/wapi/v2.2/network' -Credential (Get-Credential)\n</code></pre> <p>Retrieve the list of network objects from the grid master using interactive credentials.</p>"},{"location":"Functions/Invoke-IBWAPI/#parameters","title":"Parameters","text":""},{"location":"Functions/Invoke-IBWAPI/#-body","title":"-Body","text":"<p>The body of the request. This is usually either a JSON string or an object that will be converted to JSON automatically by the function. If the ContentType parameter is used, this function will not attempt to automatically convert the Body to JSON.</p> <pre><code>Type: Object\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Invoke-IBWAPI/#-contenttype","title":"-ContentType","text":"<p>The Content-Type header for the request. Default is 'application/json; charset=utf-8'. If specified along with a Body parameter, the Body will not be modified before being passed to the WAPI.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: Application/json; charset=utf-8\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Invoke-IBWAPI/#-credential","title":"-Credential","text":"<p>Username and password for the Infoblox appliance. This parameter is required unless -WebSession is specified.</p> <pre><code>Type: PSCredential\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Invoke-IBWAPI/#-method","title":"-Method","text":"<p>The HTTP method to use in the request. Default is GET.</p> <pre><code>Type: WebRequestMethod\nParameter Sets: (All)\nAliases:\nAccepted values: Default, Get, Head, Post, Put, Delete, Trace, Options, Merge, Patch\n\nRequired: False\nPosition: Named\nDefault value: Get\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Invoke-IBWAPI/#-nosession","title":"-NoSession","text":"<p>If set, session related parameters will be ignored and no sessions will be saved or used for this call.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Invoke-IBWAPI/#-outfile","title":"-OutFile","text":"<p>Specifies the output file that this cmdlet saves the response body. Enter a path and file name. If you omit the path, the default is the current location.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Invoke-IBWAPI/#-query","title":"-Query","text":"<p>The object type or reference being queried along with any URI querystring parameters. (e.g. 'network' or 'network?comment=Production')</p> <pre><code>Type: String\nParameter Sets: HostVersion\nAliases:\n\nRequired: True\nPosition: 3\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Invoke-IBWAPI/#-sessionvariable","title":"-SessionVariable","text":"<p>Specifies a variable for which this cmdlet creates a web request session and saves it in the value. Enter a variable name without the dollar sign ($) symbol.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Invoke-IBWAPI/#-skipcertificatecheck","title":"-SkipCertificateCheck","text":"<p>If set, SSL/TLS certificate validation will be disabled.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Invoke-IBWAPI/#-uri","title":"-Uri","text":"<p>The full Uri of the WAPI endpoint. (e.g. https://gridmaster.example.com/wapi/v2.2/network)</p> <pre><code>Type: Uri\nParameter Sets: Uri\nAliases:\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Invoke-IBWAPI/#-wapihost","title":"-WAPIHost","text":"<p>The fully qualified DNS name or IP address of the Infoblox WAPI endpoint (usually the grid master).</p> <pre><code>Type: String\nParameter Sets: HostVersion\nAliases: host\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Invoke-IBWAPI/#-wapiversion","title":"-WAPIVersion","text":"<p>The version of the Infoblox WAPI to make calls against (e.g. '2.2').</p> <pre><code>Type: String\nParameter Sets: HostVersion\nAliases: version\n\nRequired: True\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Invoke-IBWAPI/#-websession","title":"-WebSession","text":"<p>Specifies an existing WebSession object to use with the request. If specified, the SessionVariable parameter will be ignored.</p> <pre><code>Type: WebRequestSession\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Invoke-IBWAPI/#-confirm","title":"-Confirm","text":"<p>Prompts you for confirmation before running the cmdlet.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases: cf\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Invoke-IBWAPI/#-whatif","title":"-WhatIf","text":"<p>Shows what would happen if the cmdlet runs. The cmdlet is not run.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases: wi\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Invoke-IBWAPI/#commonparameters","title":"CommonParameters","text":"<p>This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see about_CommonParameters.</p>"},{"location":"Functions/Invoke-IBWAPI/#related-links","title":"Related Links","text":"<p>New-IBObject</p> <p>Get-IBObject</p>"},{"location":"Functions/New-IBObject/","title":"New-IBObject","text":""},{"location":"Functions/New-IBObject/#synopsis","title":"Synopsis","text":"<p>Create an object in Infoblox.</p>"},{"location":"Functions/New-IBObject/#syntax","title":"Syntax","text":"<pre><code>New-IBObject [-ObjectType] &lt;String&gt; [-IBObject] &lt;PSObject&gt; [-ReturnField &lt;String[]&gt;] [-ReturnBase] [-BatchMode]\n [-BatchGroupSize &lt;Int32&gt;] [[-ProfileName] &lt;String&gt;] [[-WAPIHost] &lt;String&gt;] [[-WAPIVersion] &lt;String&gt;]\n [[-Credential] &lt;PSCredential&gt;] [-SkipCertificateCheck] [-NoSession] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"Functions/New-IBObject/#description","title":"Description","text":"<p>Create an object by specifying the type and a PSObject with the required (and optional) fields for that type.</p>"},{"location":"Functions/New-IBObject/#examples","title":"Examples","text":""},{"location":"Functions/New-IBObject/#example-1-new-network","title":"Example 1: New network","text":"<pre><code>$mynetwork = @{network='10.10.12.0/24';comment='my network'}\nNew-IBObject -ObjectType 'network' -IBObject $mynetwork\n</code></pre> <p>Create a basic new network with a comment.</p>"},{"location":"Functions/New-IBObject/#example-2-new-host-with-next-ip","title":"Example 2 New host with next IP","text":"<pre><code>$myhost = @{name='myhost';comment='my host';configure_for_dns=$false}\n$myhost.ipv4addrs = @(@{ipv4addr='func:nextavailableip:10.10.12.0/24'})\nNew-IBObject 'record:host' $myhost -ReturnField 'comment','configure_for_dns' -ReturnBase\n</code></pre> <p>Create a new host record using an embedded function to get the next available IP in the specified network. Returns the basic host fields plus the comment and configure_for_dns fields.</p>"},{"location":"Functions/New-IBObject/#example-3-multiple-hosts-with-a-template","title":"Example 3: Multiple hosts with a template","text":"<pre><code>$template = @{name='dummy';configure_for_dns=$false;ipv4addrs=@(@{ipv4addr=\"func:nextavailableip:10.10.12.0/24\"})}\n1..5 | %{ $template.name = \"myhost$_\"; $template } | New-IBObject -ObjectType 'record:host' -BatchMode\n</code></pre> <p>Create a template object. Then create 5 new host records with sequential names using the next 5 available IPs in the specified network based on the template.</p>"},{"location":"Functions/New-IBObject/#example-4-new-network-with-extensible-attribute","title":"Example 4: New network with extensible attribute","text":"<pre><code>New-IBObject -ObjectType 'network' -IBObject @{network='192.168.1.0/24';extattrs=@{'Environment'=@{value='Production'}  } }\n</code></pre> <p>Create a network object that has extensibility attribute 'Environment' with value of 'Production'</p>"},{"location":"Functions/New-IBObject/#example-5-new-extensible-attribute-definition","title":"Example 5: New extensible attribute definition","text":"<pre><code>New-IBObject -ObjectType 'extensibleattributedef' -IBObject @{name='TestAttribute';flags = 'I';type='STRING';allowed_object_types='Network','NetworkContainer'}\n</code></pre> <p>Create an extensible attribute of STRING type with name of 'TestAttribute' enabled for object types IPV4 Network and IPV4 NetworkContainer and enable inheritance. Note that Network is a case sensitive string, this will not work if one would used 'network' or 'Networkcontainer'.</p>"},{"location":"Functions/New-IBObject/#parameters","title":"Parameters","text":""},{"location":"Functions/New-IBObject/#-batchgroupsize","title":"-BatchGroupSize","text":"<p>The number of objects that should be sent in each group when -BatchMode is specified. The default is 1000.</p> <pre><code>Type: Int32\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/New-IBObject/#-batchmode","title":"-BatchMode","text":"<p>If specified, objects passed via pipeline will be batched together into groups and sent as a single WAPI call per group instead of a WAPI call per object. This can increase performance but if any of the individual calls fail, the whole group is cancelled.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/New-IBObject/#-credential","title":"-Credential","text":"<p>Username and password for the Infoblox appliance. This parameter is required unless it was already set using Set-IBConfig.</p> <pre><code>Type: PSCredential\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 6\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/New-IBObject/#-ibobject","title":"-IBObject","text":"<p>A PSObject with the required fields for the specified type. Optional fields may also be included.</p> <pre><code>Type: PSObject\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 2\nDefault value: None\nAccept pipeline input: True (ByValue)\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/New-IBObject/#-nosession","title":"-NoSession","text":"<p>If set, no sessions will be saved or used for this call.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/New-IBObject/#-objecttype","title":"-ObjectType","text":"<p>Object type string. (e.g. network, record:host, range)</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: type\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/New-IBObject/#-profilename","title":"-ProfileName","text":"<p>The name of a specific config profile to use instead of the currently active one.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 7\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/New-IBObject/#-returnbase","title":"-ReturnBase","text":"<p>If specified, the standard fields for this object type will be returned in addition to the object reference and any additional fields specified by -ReturnField.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases: base, ReturnBaseFields\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/New-IBObject/#-returnfield","title":"-ReturnField","text":"<p>The set of fields that should be returned in addition to the object reference.</p> <pre><code>Type: String[]\nParameter Sets: (All)\nAliases: fields, ReturnFields\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/New-IBObject/#-skipcertificatecheck","title":"-SkipCertificateCheck","text":"<p>If set, SSL/TLS certificate validation will be disabled. Overrides value stored with Set-IBConfig.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/New-IBObject/#-wapihost","title":"-WAPIHost","text":"<p>The fully qualified DNS name or IP address of the Infoblox WAPI endpoint (usually the grid master). This parameter is required if not already set using Set-IBConfig.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: host\n\nRequired: False\nPosition: 4\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/New-IBObject/#-wapiversion","title":"-WAPIVersion","text":"<p>The version of the Infoblox WAPI to make calls against (e.g. '2.2').</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: version\n\nRequired: False\nPosition: 5\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/New-IBObject/#-confirm","title":"-Confirm","text":"<p>Prompts you for confirmation before running the cmdlet.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases: cf\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/New-IBObject/#-whatif","title":"-WhatIf","text":"<p>Shows what would happen if the cmdlet runs. The cmdlet is not run.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases: wi\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/New-IBObject/#commonparameters","title":"CommonParameters","text":"<p>This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see about_CommonParameters.</p>"},{"location":"Functions/New-IBObject/#outputs","title":"Outputs","text":""},{"location":"Functions/New-IBObject/#pscustomobject","title":"PSCustomObject","text":"<p>The object reference string of the created item or a custom object if -ReturnField or -ReturnBase was used.</p>"},{"location":"Functions/New-IBObject/#related-links","title":"Related Links","text":"<p>Get-IBObject</p>"},{"location":"Functions/Receive-IBFile/","title":"Receive-IBFile","text":""},{"location":"Functions/Receive-IBFile/#synopsis","title":"Synopsis","text":"<p>Download a file from a fileop function</p>"},{"location":"Functions/Receive-IBFile/#syntax","title":"Syntax","text":"<pre><code>Receive-IBFile [-FunctionName] &lt;String&gt; [-OutFile] &lt;String&gt; [[-FunctionArgs] &lt;IDictionary&gt;]\n [[-ObjectRef] &lt;String&gt;] [-OverrideTransferHost] [[-ProfileName] &lt;String&gt;] [[-WAPIHost] &lt;String&gt;]\n [[-WAPIVersion] &lt;String&gt;] [[-Credential] &lt;PSCredential&gt;] [-SkipCertificateCheck] [-NoSession]\n [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"Functions/Receive-IBFile/#description","title":"Description","text":"<p>This is a wrapper around the various fileop functions that allow data export from Infoblox.</p>"},{"location":"Functions/Receive-IBFile/#examples","title":"Examples","text":""},{"location":"Functions/Receive-IBFile/#example-1-download-grid-backup","title":"Example 1: Download grid backup","text":"<pre><code>Receive-IBFile getgriddata .\\backup.tar.gz -args @{type='BACKUP'}\n</code></pre> <p>Download a grid backup file using the 'getgriddata' fileop function.</p>"},{"location":"Functions/Receive-IBFile/#example-2-download-csv-export","title":"Example 2: Download CSV export","text":"<pre><code>Receive-IBFile csv_export .\\host-records.csv -args @{_object='record:host'}\n</code></pre> <p>Download a CSV export of all host records using the 'csv_export' fileop function.</p>"},{"location":"Functions/Receive-IBFile/#parameters","title":"Parameters","text":""},{"location":"Functions/Receive-IBFile/#-credential","title":"-Credential","text":"<p>Username and password for the Infoblox appliance. This parameter is required unless it was already set using Set-IBConfig.</p> <pre><code>Type: PSCredential\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 7\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Receive-IBFile/#-functionargs","title":"-FunctionArgs","text":"<p>A hashtable with the required parameters for the function. NOTE: 'token' parameters are handled automatically and can be ignored.</p> <pre><code>Type: IDictionary\nParameter Sets: (All)\nAliases: args\n\nRequired: False\nPosition: 3\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Receive-IBFile/#-functionname","title":"-FunctionName","text":"<p>The name of the fileop download function to call.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: name\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Receive-IBFile/#-nosession","title":"-NoSession","text":"<p>If set, no sessions will be saved or used for this call.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Receive-IBFile/#-objectref","title":"-ObjectRef","text":"<p>Object reference string. This is usually found in the \"_ref\" field of returned objects.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: _ref, ref, ObjectType, type\n\nRequired: False\nPosition: 4\nDefault value: Fileop\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Receive-IBFile/#-outfile","title":"-OutFile","text":"<p>Specifies the output file that this cmdlet saves the response body. Enter a path and file name. If you omit the path, the default is the current location.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: True\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Receive-IBFile/#-overridetransferhost","title":"-OverrideTransferHost","text":"<p>If set, the hostname in the transfer URL returned by WAPI will be overridden to match the original WAPIHost if they don't already match. The SkipCertificateCheck switch will also be updated to match the passed in value instead of always being set to true for the call.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Receive-IBFile/#-profilename","title":"-ProfileName","text":"<p>The name of a specific config profile to use instead of the currently active one.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 8\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Receive-IBFile/#-skipcertificatecheck","title":"-SkipCertificateCheck","text":"<p>If set, SSL/TLS certificate validation will be disabled. Overrides value stored with Set-IBConfig.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Receive-IBFile/#-wapihost","title":"-WAPIHost","text":"<p>The fully qualified DNS name or IP address of the Infoblox WAPI endpoint (usually the grid master). This parameter is required if not already set using Set-IBConfig.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: host\n\nRequired: False\nPosition: 5\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Receive-IBFile/#-wapiversion","title":"-WAPIVersion","text":"<p>The version of the Infoblox WAPI to make calls against (e.g. '2.2').</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: version\n\nRequired: False\nPosition: 6\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Receive-IBFile/#commonparameters","title":"CommonParameters","text":"<p>This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see about_CommonParameters.</p>"},{"location":"Functions/Receive-IBFile/#related-links","title":"Related Links","text":"<p>Invoke-IBFunction</p>"},{"location":"Functions/Remove-IBConfig/","title":"Remove-IBConfig","text":""},{"location":"Functions/Remove-IBConfig/#synopsis","title":"Synopsis","text":"<p>Remove a WAPI connection profile.</p>"},{"location":"Functions/Remove-IBConfig/#syntax","title":"Syntax","text":""},{"location":"Functions/Remove-IBConfig/#specific","title":"Specific","text":"<pre><code>Remove-IBConfig [[-ProfileName] &lt;String&gt;] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"Functions/Remove-IBConfig/#all","title":"All","text":"<pre><code>Remove-IBConfig [-AllProfiles] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"Functions/Remove-IBConfig/#description","title":"Description","text":"<p>When called with no parameters, the currently active connection profile will be removed. When called with -ProfileName, the specified profile will be removed. When called with -AllProfiles, all profiles will be removed.</p>"},{"location":"Functions/Remove-IBConfig/#examples","title":"Examples","text":""},{"location":"Functions/Remove-IBConfig/#example-1-remove-current-profile","title":"Example 1: Remove current profile","text":"<pre><code>Remove-IBConfig\n</code></pre> <p>Remove the currently active connection profile.</p>"},{"location":"Functions/Remove-IBConfig/#example-2-remove-all-profiles","title":"Example 2: Remove all profiles","text":"<pre><code>Remove-IBConfig -AllHosts\n</code></pre> <p>Remove all connection profiles.</p>"},{"location":"Functions/Remove-IBConfig/#parameters","title":"Parameters","text":""},{"location":"Functions/Remove-IBConfig/#-allprofiles","title":"-AllProfiles","text":"<p>If set, all profiles will be removed.</p> <pre><code>Type: SwitchParameter\nParameter Sets: All\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Remove-IBConfig/#-profilename","title":"-ProfileName","text":"<p>The name of the profile to remove.</p> <pre><code>Type: String\nParameter Sets: Specific\nAliases: name\n\nRequired: False\nPosition: 1\nDefault value: None\nAccept pipeline input: True (ByPropertyName, ByValue)\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Remove-IBConfig/#commonparameters","title":"CommonParameters","text":"<p>This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see about_CommonParameters.</p>"},{"location":"Functions/Remove-IBConfig/#related-links","title":"Related Links","text":"<p>Set-IBConfig</p>"},{"location":"Functions/Remove-IBObject/","title":"Remove-IBObject","text":""},{"location":"Functions/Remove-IBObject/#synopsis","title":"Synopsis","text":"<p>Delete an object from Infoblox.</p>"},{"location":"Functions/Remove-IBObject/#syntax","title":"Syntax","text":"<pre><code>Remove-IBObject [-ObjectRef] &lt;String&gt; [[-DeleteArgs] &lt;String[]&gt;] [-BatchMode] [-BatchGroupSize &lt;Int32&gt;]\n [[-ProfileName] &lt;String&gt;] [[-WAPIHost] &lt;String&gt;] [[-WAPIVersion] &lt;String&gt;] [[-Credential] &lt;PSCredential&gt;]\n [-SkipCertificateCheck] [-NoSession] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"Functions/Remove-IBObject/#description","title":"Description","text":"<p>Specify an object reference to delete that object from the Infoblox database.</p>"},{"location":"Functions/Remove-IBObject/#examples","title":"Examples","text":""},{"location":"Functions/Remove-IBObject/#example-1-delete-host-record-by-name","title":"Example 1: Delete host record by name","text":"<pre><code>$myhost = Get-IBObject -ObjectType 'record:host' -Filter 'name=myhost'\nRemove-IBObject -ObjectRef $myhost._ref\n</code></pre> <p>Search for a host record called 'myhost' and delete it.</p>"},{"location":"Functions/Remove-IBObject/#example-2-delete-host-record-by-comment","title":"Example 2: Delete host record by comment","text":"<pre><code>$hostsToDelete = Get-IBObject 'record:host' -Filter 'comment=decommissioned'\n$hostsToDelete | Remove-IBObject\n</code></pre> <p>Search for hosts with their comment set to 'decommissioned' and delete them all.</p>"},{"location":"Functions/Remove-IBObject/#parameters","title":"Parameters","text":""},{"location":"Functions/Remove-IBObject/#-batchgroupsize","title":"-BatchGroupSize","text":"<p>The number of objects that should be sent in each group when -BatchMode is specified. The default is 1000.</p> <pre><code>Type: Int32\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Remove-IBObject/#-batchmode","title":"-BatchMode","text":"<p>If specified, objects passed via pipeline will be batched together into groups and sent as a single WAPI call per group instead of a WAPI call per object. This can increase performance but if any of the individual calls fail, the whole group is cancelled.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Remove-IBObject/#-credential","title":"-Credential","text":"<p>Username and password for the Infoblox appliance. This parameter is required unless it was already set using Set-IBConfig.</p> <pre><code>Type: PSCredential\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 5\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Remove-IBObject/#-deleteargs","title":"-DeleteArgs","text":"<p>Additional delete arguments for this object. For example, 'remove_associated_ptr=true' can be used with record:a. Requires WAPI 2.1+.</p> <pre><code>Type: String[]\nParameter Sets: (All)\nAliases: args\n\nRequired: False\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Remove-IBObject/#-nosession","title":"-NoSession","text":"<p>If set, no sessions will be saved or used for this call.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Remove-IBObject/#-objectref","title":"-ObjectRef","text":"<p>Object reference string. This is usually found in the \"_ref\" field of returned objects.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: _ref, ref\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: True (ByPropertyName, ByValue)\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Remove-IBObject/#-profilename","title":"-ProfileName","text":"<p>The name of a specific config profile to use instead of the currently active one.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 6\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Remove-IBObject/#-skipcertificatecheck","title":"-SkipCertificateCheck","text":"<p>If set, SSL/TLS certificate validation will be disabled. Overrides value stored with Set-IBConfig.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Remove-IBObject/#-wapihost","title":"-WAPIHost","text":"<p>The fully qualified DNS name or IP address of the Infoblox WAPI endpoint (usually the grid master). This parameter is required if not already set using Set-IBConfig.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: host\n\nRequired: False\nPosition: 3\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Remove-IBObject/#-wapiversion","title":"-WAPIVersion","text":"<p>The version of the Infoblox WAPI to make calls against (e.g. '2.2'). You may optionally specify 'latest' and the function will attempt to query the WAPI for the latest supported version.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: version\n\nRequired: False\nPosition: 4\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Remove-IBObject/#-confirm","title":"-Confirm","text":"<p>Prompts you for confirmation before running the cmdlet.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases: cf\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Remove-IBObject/#-whatif","title":"-WhatIf","text":"<p>Shows what would happen if the cmdlet runs. The cmdlet is not run.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases: wi\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Remove-IBObject/#commonparameters","title":"CommonParameters","text":"<p>This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see about_CommonParameters.</p>"},{"location":"Functions/Remove-IBObject/#outputs","title":"Outputs","text":""},{"location":"Functions/Remove-IBObject/#string","title":"String","text":"<p>The object reference string of the deleted item.</p>"},{"location":"Functions/Remove-IBObject/#related-links","title":"Related Links","text":"<p>New-IBObject</p> <p>Get-IBObject</p>"},{"location":"Functions/Send-IBFile/","title":"Send-IBFile","text":""},{"location":"Functions/Send-IBFile/#synopsis","title":"Synopsis","text":"<p>Upload a file to Infoblox using one of the fileop upload functions.</p>"},{"location":"Functions/Send-IBFile/#syntax","title":"Syntax","text":"<pre><code>Send-IBFile [-FunctionName] &lt;String&gt; [-Path] &lt;String&gt; [-FunctionArgs &lt;IDictionary&gt;] [-ObjectRef &lt;String&gt;]\n [-OverrideTransferHost] [-ProfileName &lt;String&gt;] [-WAPIHost &lt;String&gt;] [-WAPIVersion &lt;String&gt;]\n [-Credential &lt;PSCredential&gt;] [-SkipCertificateCheck] [-NoSession] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"Functions/Send-IBFile/#description","title":"Description","text":"<p>This is a wrapper around the various fileop functions that allow data import into Infoblox.</p>"},{"location":"Functions/Send-IBFile/#examples","title":"Examples","text":""},{"location":"Functions/Send-IBFile/#example-1-upload-ca-certificate","title":"Example 1: Upload CA certificate","text":"<pre><code>Send-IBFile uploadcertificate .\\ca.pem -FunctionArgs @{certificate_usage='EAP_CA'}\n</code></pre> <p>Upload a trusted CA certificate to the grid.</p>"},{"location":"Functions/Send-IBFile/#parameters","title":"Parameters","text":""},{"location":"Functions/Send-IBFile/#-credential","title":"-Credential","text":"<p>Username and password for the Infoblox appliance. This parameter is required unless it was already set using Set-IBConfig.</p> <pre><code>Type: PSCredential\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Send-IBFile/#-functionargs","title":"-FunctionArgs","text":"<p>A hashtable with the required parameters for the function. NOTE: 'token' parameters are handled automatically and can be ignored.</p> <pre><code>Type: IDictionary\nParameter Sets: (All)\nAliases: args\n\nRequired: False\nPosition: Named\nDefault value: @{}\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Send-IBFile/#-functionname","title":"-FunctionName","text":"<p>The name of the fileop upload function to call.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: name\n\nRequired: True\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Send-IBFile/#-nosession","title":"-NoSession","text":"<p>If set, no sessions will be saved or used for this call.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Send-IBFile/#-objectref","title":"-ObjectRef","text":"<p>Object reference string. This is usually found in the \"_ref\" field of returned objects.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: _ref, ref, ObjectType, type\n\nRequired: False\nPosition: Named\nDefault value: Fileop\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Send-IBFile/#-overridetransferhost","title":"-OverrideTransferHost","text":"<p>If set, the hostname in the transfer URL returned by WAPI will be overridden to match the original WAPIHost if they don't already match. The SkipCertificateCheck switch will also be updated to match the passed in value instead of always being set to true for the call.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Send-IBFile/#-path","title":"-Path","text":"<p>The path to the file that will be uploaded for this call.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: PSPath\n\nRequired: True\nPosition: 2\nDefault value: None\nAccept pipeline input: True (ByPropertyName, ByValue)\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Send-IBFile/#-profilename","title":"-ProfileName","text":"<p>The name of a specific config profile to use instead of the currently active one.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Send-IBFile/#-skipcertificatecheck","title":"-SkipCertificateCheck","text":"<p>If set, SSL/TLS certificate validation will be disabled. Overrides value stored with Set-IBConfig.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Send-IBFile/#-wapihost","title":"-WAPIHost","text":"<p>The fully qualified DNS name or IP address of the Infoblox WAPI endpoint (usually the grid master). This parameter is required if not already set using Set-IBConfig.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: host\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Send-IBFile/#-wapiversion","title":"-WAPIVersion","text":"<p>The version of the Infoblox WAPI to make calls against (e.g. '2.2'). This parameter is required if not already set using Set-IBConfig.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: version\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Send-IBFile/#commonparameters","title":"CommonParameters","text":"<p>This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see about_CommonParameters.</p>"},{"location":"Functions/Send-IBFile/#related-links","title":"Related Links","text":"<p>Receive-IBFile</p>"},{"location":"Functions/Set-IBConfig/","title":"Set-IBConfig","text":""},{"location":"Functions/Set-IBConfig/#synopsis","title":"Synopsis","text":"<p>Save connection parameters to a profile to avoid needing to supply them to future functions.</p>"},{"location":"Functions/Set-IBConfig/#syntax","title":"Syntax","text":"<pre><code>Set-IBConfig [[-ProfileName] &lt;String&gt;] [[-WAPIHost] &lt;String&gt;] [[-WAPIVersion] &lt;String&gt;]\n [[-Credential] &lt;PSCredential&gt;] [-SkipCertificateCheck] [-NoSession] [[-NewName] &lt;String&gt;] [-NoSwitchProfile]\n [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"Functions/Set-IBConfig/#description","title":"Description","text":"<p>Rather than specifying the same common parameter values to most of the function calls in this module, you can pre-set them with this function instead. They will be used automatically by other functions that support them unless overridden by the function's own parameters.</p> <p>Calling this function with a profile name will update that profile's values and switch the current profile to the specified one unless -NoSwitchProfile is used. When a profile name is not specified, the current profile's values will be updated with any specified changes.</p>"},{"location":"Functions/Set-IBConfig/#examples","title":"Examples","text":""},{"location":"Functions/Set-IBConfig/#example-1-switch-profiles","title":"Example 1: Switch profiles","text":"<pre><code>Set-IBConfig -ProfileName 'gm-admin'\n</code></pre> <p>Switch to the 'gm-admin' profile, but make no changes.</p>"},{"location":"Functions/Set-IBConfig/#example-2-create-or-update-a-profile","title":"Example 2: Create or update a profile","text":"<pre><code>Set-IBConfig -ProfileName 'gm-admin' -WAPIHost gm.example.com -WAPIVersion 2.2 -Credential (Get-Credential) -SkipCertificateCheck\n</code></pre> <p>Create or update the 'gm-admin' profile with all basic connection parameters for an Infoblox WAPI connection. This will also prompt for the credentials and skip certificate validation.</p>"},{"location":"Functions/Set-IBConfig/#example-3-update-the-current-profile","title":"Example 3: Update the current profile","text":"<pre><code>Set-IBConfig -WAPIVersion 2.5\n</code></pre> <p>Update the current profile to WAPI version 2.5</p>"},{"location":"Functions/Set-IBConfig/#parameters","title":"Parameters","text":""},{"location":"Functions/Set-IBConfig/#-credential","title":"-Credential","text":"<p>Username and password for the Infoblox appliance.</p> <pre><code>Type: PSCredential\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 4\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Set-IBConfig/#-newname","title":"-NewName","text":"<p>A new name that this config profile should be renamed to. (Must not be 'ENV' which is used in stateless mode)</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: 5\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Set-IBConfig/#-nosession","title":"-NoSession","text":"<p>When set, disables session use for this profile which causes explicit credentials to be sent with every call. This can decrease performance and cause extra audit logging against the WAPI endpoint, but may be desired in rare cases.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Set-IBConfig/#-noswitchprofile","title":"-NoSwitchProfile","text":"<p>If set, the current profile will not switch to the specified -ProfileName if different.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Set-IBConfig/#-profilename","title":"-ProfileName","text":"<p>The name of the profile to create or modify. (Must not be 'ENV' which is used in stateless mode)</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: name\n\nRequired: False\nPosition: 1\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Set-IBConfig/#-skipcertificatecheck","title":"-SkipCertificateCheck","text":"<p>If set, SSL/TLS certificate validation will be disabled for this profile.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Set-IBConfig/#-wapihost","title":"-WAPIHost","text":"<p>The fully qualified DNS name or IP address of the Infoblox WAPI endpoint (usually the grid master).</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: host\n\nRequired: False\nPosition: 2\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Set-IBConfig/#-wapiversion","title":"-WAPIVersion","text":"<p>The version of the Infoblox WAPI to make calls against (e.g. '2.2'). You may optionally specify 'latest' and the function will attempt to query the WAPI for the latest supported version.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: version\n\nRequired: False\nPosition: 3\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Set-IBConfig/#commonparameters","title":"CommonParameters","text":"<p>This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see about_CommonParameters.</p>"},{"location":"Functions/Set-IBConfig/#related-links","title":"Related Links","text":"<p>Get-IBConfig</p> <p>Invoke-IBWAPI</p>"},{"location":"Functions/Set-IBObject/","title":"Set-IBObject","text":""},{"location":"Functions/Set-IBObject/#synopsis","title":"Synopsis","text":"<p>Modify an object in Infoblox.</p>"},{"location":"Functions/Set-IBObject/#syntax","title":"Syntax","text":""},{"location":"Functions/Set-IBObject/#objectonly","title":"ObjectOnly","text":"<pre><code>Set-IBObject -IBObject &lt;PSObject&gt; [-ReturnField &lt;String[]&gt;] [-ReturnBase] [-BatchMode]\n [-BatchGroupSize &lt;Int32&gt;] [-ProfileName &lt;String&gt;] [-WAPIHost &lt;String&gt;] [-WAPIVersion &lt;String&gt;]\n [-Credential &lt;PSCredential&gt;] [-SkipCertificateCheck] [-NoSession] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"Functions/Set-IBObject/#refandtemplate","title":"RefAndTemplate","text":"<pre><code>Set-IBObject -ObjectRef &lt;String&gt; -TemplateObject &lt;PSObject&gt; [-ReturnField &lt;String[]&gt;] [-ReturnBase]\n [-BatchMode] [-BatchGroupSize &lt;Int32&gt;] [-ProfileName &lt;String&gt;] [-WAPIHost &lt;String&gt;] [-WAPIVersion &lt;String&gt;]\n [-Credential &lt;PSCredential&gt;] [-SkipCertificateCheck] [-NoSession] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]\n</code></pre>"},{"location":"Functions/Set-IBObject/#description","title":"Description","text":"<p>Modify an object by specifying its object reference and a PSObject with the fields to change.</p>"},{"location":"Functions/Set-IBObject/#examples","title":"Examples","text":""},{"location":"Functions/Set-IBObject/#example-1-update-host-record","title":"Example 1: Update host record","text":"<pre><code>$myhost = Get-IBObject -ObjectType 'record:host' -Filter 'name=myhost' -ReturnField 'comment'\n$myhost.comment = 'new comment'\nSet-IBObject -ObjectRef $myhost._ref -IBObject $myhost\n</code></pre> <p>Search for a host record called 'myhost', update the comment field, and save it.</p>"},{"location":"Functions/Set-IBObject/#example-2-update-multiple-host-records","title":"Example 2: Update multiple host records","text":"<pre><code>$toChange = Get-IBObject -type 'record:host' -Filter 'name~=oldname' -fields 'name'\n$toChange | %{ $_.name = $_.name.Replace('oldname','newname'); $_ } | Set-IBObject\n</code></pre> <p>Find all hosts with 'oldname' in the name, change the references to 'newname', and send them through the pipeline to Set-IBObject for saving.</p>"},{"location":"Functions/Set-IBObject/#example-3-change-multiple-comments","title":"Example 3: Change multiple comments","text":"<pre><code>$myhosts = Get-IBObject 'record:host' -Filter 'comment=web server'\n$myhosts | Set-IBObject -TemplateObject @{comment='db server'}\n</code></pre> <p>Find all host records with comment 'web server' and change them to 'db server' with a manually created template</p>"},{"location":"Functions/Set-IBObject/#parameters","title":"Parameters","text":""},{"location":"Functions/Set-IBObject/#-batchgroupsize","title":"-BatchGroupSize","text":"<p>The number of objects that should be sent in each group when -BatchMode is specified. The default is 1000.</p> <pre><code>Type: Int32\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Set-IBObject/#-batchmode","title":"-BatchMode","text":"<p>If specified, objects passed via pipeline will be batched together into groups and sent as a single WAPI call per group instead of a WAPI call per object. This can increase performance but if any of the individual calls fail, the whole group is cancelled.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Set-IBObject/#-credential","title":"-Credential","text":"<p>Username and password for the Infoblox appliance. This parameter is required unless it was already set using Set-IBConfig.</p> <pre><code>Type: PSCredential\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Set-IBObject/#-ibobject","title":"-IBObject","text":"<p>An object with the fields to be modified. This must include a '_ref' with the object reference string to modify. All included fields will be modified even if they are empty.</p> <pre><code>Type: PSObject\nParameter Sets: ObjectOnly\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: True (ByValue)\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Set-IBObject/#-nosession","title":"-NoSession","text":"<p>If set, no sessions will be saved or used for this call.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Set-IBObject/#-objectref","title":"-ObjectRef","text":"<p>Object reference string. This is usually found in the \"_ref\" field of returned objects.</p> <pre><code>Type: String\nParameter Sets: RefAndTemplate\nAliases: _ref, ref\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: True (ByPropertyName, ByValue)\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Set-IBObject/#-profilename","title":"-ProfileName","text":"<p>The name of a specific config profile to use instead of the currently active one.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Set-IBObject/#-returnbase","title":"-ReturnBase","text":"<p>If specified, the standard fields for this object type will be returned in addition to the object reference and any additional fields specified by -ReturnField.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases: base, ReturnBaseFields\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Set-IBObject/#-returnfield","title":"-ReturnField","text":"<p>The set of fields that should be returned in addition to the object reference.</p> <pre><code>Type: String[]\nParameter Sets: (All)\nAliases: fields, ReturnFields\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Set-IBObject/#-skipcertificatecheck","title":"-SkipCertificateCheck","text":"<p>If set, SSL/TLS certificate validation will be disabled. Overrides value stored with Set-IBConfig.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases:\n\nRequired: False\nPosition: Named\nDefault value: False\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Set-IBObject/#-templateobject","title":"-TemplateObject","text":"<p>An object with the fields to be modified. A '_ref' field in this object will be ignored. This is only usable with a separate -ObjectRef parameter.</p> <pre><code>Type: PSObject\nParameter Sets: RefAndTemplate\nAliases:\n\nRequired: True\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Set-IBObject/#-wapihost","title":"-WAPIHost","text":"<p>The fully qualified DNS name or IP address of the Infoblox WAPI endpoint (usually the grid master). This parameter is required if not already set using Set-IBConfig.</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: host\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Set-IBObject/#-wapiversion","title":"-WAPIVersion","text":"<p>The version of the Infoblox WAPI to make calls against (e.g. '2.2').</p> <pre><code>Type: String\nParameter Sets: (All)\nAliases: version\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Set-IBObject/#-confirm","title":"-Confirm","text":"<p>Prompts you for confirmation before running the cmdlet.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases: cf\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Set-IBObject/#-whatif","title":"-WhatIf","text":"<p>Shows what would happen if the cmdlet runs. The cmdlet is not run.</p> <pre><code>Type: SwitchParameter\nParameter Sets: (All)\nAliases: wi\n\nRequired: False\nPosition: Named\nDefault value: None\nAccept pipeline input: False\nAccept wildcard characters: False\n</code></pre>"},{"location":"Functions/Set-IBObject/#commonparameters","title":"CommonParameters","text":"<p>This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see about_CommonParameters.</p>"},{"location":"Functions/Set-IBObject/#outputs","title":"Outputs","text":""},{"location":"Functions/Set-IBObject/#pscustomobject","title":"PSCustomObject","text":"<p>The object reference string of the modified item or a custom object if -ReturnField or -ReturnBase was used.</p>"},{"location":"Functions/Set-IBObject/#related-links","title":"Related Links","text":"<p>Get-IBObject</p>"},{"location":"Guides/","title":"Guides and Deep Dives","text":"<p>This section contains a variety of guides that explain some lesser known or more complicated features of Posh-IBWAPI.</p>"},{"location":"Guides/Definitive-REST-Examples/","title":"Background","text":"<p>This page will attempt to be a ported version of a now archived Infoblox community post called \"The definitive list of REST examples\" using Posh-IBWAPI functions.</p> <p>All examples assume you have already configured common connection settings with <code>Set-IBConfig</code>. If you're still using the default self-signed Infoblox certificates, don't forget to include <code>-SkipCertificateCheck</code>. For example:</p> <pre><code>Set-IBConfig -ProfileName mygrid -host gridmaster.test.com -ver latest -cred (Get-Credential) -SkipCertificateCheck\n</code></pre> <p>Functions generally output zero or more <code>PSCustomObject</code> objects natively parsed from the WAPI's JSON output or raw object reference strings. While trying the examples on your own, it can be helpful to convert your own result objects to JSON for better readability. For example:</p> <pre><code>$hosts = Get-IBObject -type record:host\n# output the first host result as JSON\n$hosts[0] | ConvertTo-Json -Depth 5\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#the-definitive-list-of-rest-examples","title":"The definitive list of REST examples","text":"<p>A common question we are asked is \"Do you have some examples of specific REST calls\", or \"How can I get started with testing the WAPI?\".</p> <p>The API docs are good if you need the technical details, but this post hopes to address the overall fundamentals.</p>"},{"location":"Guides/Definitive-REST-Examples/#the-basics","title":"The Basics","text":"<ul> <li>use <code>Get-IBObject</code> to get/search</li> <li>use <code>New-IBObject</code> to add</li> <li>use <code>Set-IBObject</code> to modify</li> <li>use <code>Remove-IBObject</code> to remove</li> </ul> <p>If you want to modify an object, you have to use a <code>Get-IBObject</code> to read it first. This will give you the <code>_ref</code> (among other base fields), which you will need in order to update that object.</p> <pre><code># Get a specific host by name (case-insensitive)\n$testhost = Get-IBObject -type record:host -Filter @{'name:'='test_host.test.com'}\n\n# $testhost looks like the following when converted to JSON\n{\n    \"_ref\":  \"record:host/ZG5zLmhvc3QkLjEubmV0LmR2b2x2ZS5leHRucw:test_host.test.com/default\",\n    \"ipv4addrs\":  [\n                      {\n                          \"_ref\":  \"record:host_ipv4addr/ZG5zLmhvc3RfYWRkcmVzcyQuMS5uZXQuZHZvbHZlLmV4dG5zLjEwLjE3LjYuNC4:192.168.0.1/test_host.test.com/default\",\n                          \"configure_for_dhcp\":  false,\n                          \"host\":  \"test_host.test.com\",\n                          \"ipv4addr\":  \"1.1.1.1\"\n                      }\n                  ],\n    \"name\":  \"test_host.test.com\",\n    \"view\":  \"default\"\n}\n</code></pre> <p>Note</p> <p>You can use <code>-ReturnAll</code> to return all available data for a given object type. This flag requires WAPI version 1.7.5+ because it involves extra queries to the schema under the hood. Thus, it is also less performant than a normal query because of the extra roundtrips to the server. If you know the fields you want, it is better to use <code>-ReturnField 'field1','field2','fieldX'</code>. Using <code>-ReturnField</code> will prevent the base fields from being returned unless you explicitly include them or also use <code>-ReturnBase</code>.</p> <p>There are two different ways to modify the host you just queried. They involve slightly different ways of calling <code>Set-IBObject</code>. The easiest, particularly if you're making the same change to multiple objects, is usually to just pipe the variable to <code>Set-IBObject</code> and provide a template for the changes with <code>-TemplateObject</code>. This works because <code>Set-IBObject</code> knows how to pull the <code>_ref</code> field out of the pipelined object and use it for <code>-ObjectRef</code>:</p> <pre><code># create a template to change the IP address\n$template = @{ipv4addrs=@(@{ipv4addr='1.1.1.2'})}\n\n# save the change\n$testhost | Set-IBObject -template $template\n\n# this also works when you only have a copy of the _ref string\nSet-IBObject -ref 'record:host/ZG5zLmhvc3QkLjEubmV0LmR2b2x2ZS5' -template $template\n</code></pre> <p>The second way involves modifying the variable and then piping it to <code>Set-IBObject</code> by itself. This has a tendency to be more difficult because read-only fields in the original variable need to be removed or an error will be thrown. It can also be more tedious to add fields if the original variable doesn't contain the fields you want to edit. However, this way can also be easier if you're changing many objects in a more algorithmic way; such as modifying a set of hostnames using string replacement.</p> <pre><code># remove the read-only 'host' field from the nested 'record:host_ipv4addr' object\n$testhost.ipv4addrs[0].PSObject.Properties.Remove('host')\n\n# change the IP address\n$testhost.ipv4addrs[0].ipv4addr = '1.1.1.2'\n\n# add a comment\n$testhost | Add-Member @{comment='my test host'}\n\n# save the change\n$testhost | Set-IBObject\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#search-for-host-by-name","title":"Search for HOST by name","text":"<pre><code># case-sensitive exact match using '='\nGet-IBObject -type record:host -Filter 'name=my.fqdn.org'\n\n# case-insensitive exact match using ':=' (Requires WAPI 1.4+)\nGet-IBObject -type record:host -Filter @{'name:'='my.fqdn.org'}\n\n# case-sensitive Regex partial match using '~='\nGet-IBObject -type record:host -Filter @{'name~'='my'}\n\n# case-insensitive Regex partial match using ':~=' (Requires WAPI 1.4+)\nGet-IBObject -type record:host -Filter @{'name:~'='my'}\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#search-for-fixedaddress-by-mac","title":"Search for FixedAddress by MAC","text":"<pre><code># return base fields + mac\nGet-IBObject -type fixedaddress -Filter 'mac=aa:bb:cc:11:22:33' -fields 'mac' -base\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#search-for-objects-associated-with-a-specific-ip-address","title":"Search for objects associated with a specific IP address","text":"<pre><code>$ipObj = Get-IBObject -type ipv4address -Filter 'status=USED','ip_address=1.1.1.1'\n\n# the object references are stored in the 'objects' field, but we can\n# also query for additional information\n$ipObj | select -expand objects | Get-IBObject\n\n# just list the names associated with that IP\n$ipObj | select -expand names\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#add-a-host","title":"Add a HOST","text":"<pre><code># build the host variable\n$newhost = @{ name='wapi.test.org'; ipv4addrs=@( @{ ipv4addr='1.1.1.21' } ) }\n\n# Note: `configure_for_dns` defaults to $true which means the 'test.org' DNS zone for\n# this host must be managed by Infoblox for the call to succeed. Otherwise, you must\n# set configure_for_dns=$false in the host variable.\n\n# Note: the network containing the specified IP must also be managed by Infoblox for \n# the call to succeed.\n\n# create the host\n$newhost | New-IBObject -type record:host\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#delete-a-host","title":"Delete a HOST","text":"<pre><code># search for the host we want to delete\n$delHost = Get-IBObject -type record:host -Filter 'name=wapi.test.org'\n\n# delete it\n$delHost | Remove-IBObject\n\n# or delete it directly using an already known object reference\nRemove-IBOBject -ref 'record:host/ZG5zLmhvc3QkLm5vbl9ETlNfaG'\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#update-a-host-or-change-the-ip-address","title":"Update a host, or change the IP address","text":"<p>(See the examples in The Basics)</p>"},{"location":"Guides/Definitive-REST-Examples/#addremove-ip-addresses-from-a-host-without-altering-the-original-list","title":"Add/Remove IP addresses from a host without altering the original list","text":"<pre><code># add with `ipv4addrs+` in your change template\n$template = @{ 'ipv4addrs+' = @( @{ ipv4addr='2.2.2.22' }, @{ ipv4addr='4.4.4.24' } ) }\n\n# save the change using a known object reference\nSet-IBObject -ref 'record:host/ZG5zLmhvc3QkLl9kZWZhdWx0Lm9yZy5naC' -template $template\n\n# remove with `ipv4addrs-' in your change template\n$template = @{ 'ipv4addrs-' = @( @{ ipv4addr='2.2.2.22' } ) }\n\n# save the change using an existing $myhost variable returned by Get-IBObject\n$myhost | Set-IBObject -template $template\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#add-a-host-with-next_available-ip-address-from-a-network","title":"Add a HOST with next_available IP address from a network","text":"<pre><code># create the host variable\n$newhost = @{ name='wapi.test.org'; ipv4addrs=@( @{} ) }\n$newhost.ipv4addrs[0].ipv4addr = 'func:nextavailableip:10.1.1.0/24'\n\n# 'func:' syntax also supports these forms:\n# func:nextavailableip:network/ZG54dfgsrDFEFfsfsLzA:10.0.0.0/8/default\n# func:nextavailableip:10.0.0.0/8\n# func:nextavailableip:10.0.0.0/8,external\n# func:nextavailableip:10.0.0.3-10.0.0.10\n\n# OR you can use the longhand form\n$newhost = @{ name='wapi.test.org'; ipv4addrs=@( @{ ipv4addr=@{} } ) }\n$newhost.ipv4addrs[0].ipv4addr._function = 'next_available_ip'\n$newhost.ipv4addrs[0].ipv4addr._object_field = 'value'\n$newhost.ipv4addrs[0].ipv4addr._object = '10.1.1.0/24'\n$newhost.ipv4addrs[0].ipv4addr._parameters = @{ num=1; exclude=@('10.1.1.50','10.1.1.60') }\n\n# create the host\n$newhost | New-IBObject -type record:host\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#add-a-host-with-next_available-ip-address-from-a-network-using-a-complex-search-eg-extensible-attributes","title":"Add a HOST with next_available IP address from a network using a complex search (e.g Extensible Attributes)","text":"<pre><code># This is similar to the previous example using longhand form\n# But you need to pass the search criteria in the `_object_parameters` field\n# Note also that `_object` changes from a reference to a type\n$newhost = @{ name='wapi.test.org'; ipv4addrs=@( @{ ipv4addr=@{} } ) }\n$newhost.ipv4addrs[0].ipv4addr._function = 'next_available_ip'\n$newhost.ipv4addrs[0].ipv4addr._object_field = 'value'\n$newhost.ipv4addrs[0].ipv4addr._object = 'network'\n$newhost.ipv4addrs[0].ipv4addr._object_parameters = @{ '*Site'='Santa Clara' }\n$newhost.ipv4addrs[0].ipv4addr._parameters = @{ num=1; exclude=@('10.1.1.50','10.1.1.60') }\n\n# create the host\n$newhost | New-IBObject -type record:host\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#add-a-host-with-a-fixed-address","title":"Add a HOST with a fixed address","text":"<pre><code># basically the same as adding a normal host, but include a mac address\n$newhost = @{ name='wapi.test.org'; ipv4addrs=@( @{} ) }\n$newhost.ipv4addrs[0].ipv4addr = '1.1.1.21'\n$newhost.ipv4addrs[0].mac = 'aa:bb:cc:11:22:21'\n\n# create the host\n$newhost | New-IBObject -type record:host\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#add-a-fixed-address","title":"Add a Fixed address","text":"<pre><code>New-IBObject -type fixedaddress -IBObject @{ipv4addr='1.1.1.21';mac='aa:bb:cc:11:22:21'}\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#add-a-fixed-address-reservation","title":"Add a Fixed address Reservation","text":"<pre><code>New-IBObject -type fixedaddress -IBObject @{ipv4addr='1.1.1.21';mac='00:00:00:00:00:00'}\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#search-for-a-subnet","title":"Search for a subnet","text":"<pre><code>$subnet = Get-IBObject -type network -Filter 'network=1.1.1.0/24'\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#get-next-available-address-from-a-subnet","title":"Get Next Available address from a subnet","text":"<pre><code># using the $subnet variable returned from Get-IBObject\n$subnet | Invoke-IBFunction -name 'next_available_ip' -args @{num=1}\n\n# and if you just want the raw values\n$subnet | Invoke-IBFunction -name 'next_available_ip' -args @{num=1} | Select -expand ips\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#get-the-next-5-ip-addresses","title":"Get the next 5 IP addresses","text":"<pre><code># using the $subnet variable returned from Get-IBObject\n$subnet | Invoke-IBFunction -name 'next_available_ip' -args @{num=5}\n\n# and if you just want the raw values\n$subnet | Invoke-IBFunction -name 'next_available_ip' -args @{num=5} | Select -expand ips\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#get-all-the-addresses-and-records-in-a-subnet","title":"Get all the addresses (and records) in a subnet","text":"<pre><code>Get-IBObject -type ipv4address -Filter 'network=1.1.1.0/24'\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#get-all-the-ip-addresses-in-a-given-range","title":"Get all the IP addresses in a given range","text":"<pre><code>Get-IBObject -type ipv4address -Filter 'ip_address&gt;=1.1.1.1','ip_address&lt;=1.1.1.10'\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#search-for-hosts-by-extensible-attribute","title":"Search for HOSTS by Extensible Attribute","text":"<pre><code># when filtering on EA, prepend '*' to the front of the EA name\nGet-IBObject -type record:host -Filter '*Floor=3rd' -fields 'extattrs'\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#add-extensible-attributes-to-an-object","title":"Add extensible Attributes to an object","text":"<pre><code># using a $myhost variable returned by Get-IBObject\n$myhost | Set-IBObject -template @{extattrs=@{Site=@{value='East'}}}\n\n# combine with the previous example to change all hosts on the\n# 3rd Floor to the 5th Floor\nGet-IBObject -type record:host -Filter '*Floor=3rd' | \n  Set-IBObject -template @{extattrs=@{Floor=@{value='5th'}}}\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#add-a-value-to-a-list-type-extensible-attribute","title":"Add a value to a \"List\" type Extensible Attribute","text":"<pre><code># get the existing definition\n$listdef = Get-IBObject -type extensibleattributedef -Filter 'name=MyList' -Fields 'list_values'\n\n# add a new item to the list\n$listdef.list_values += @{value='NewValue'}\n\n# write the updated object back to Infoblox\n$listdef | Set-IBObject\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#add-a-host-with-aliases","title":"Add a HOST with aliases","text":"<pre><code># build the host variable\n$newhost = @{ name='wapialiased.test.org'; ipv4addrs=@( @{ ipv4addr='1.1.1.21' } ) }\n$newhost.aliases = @('remote','pointer')\n\n# create the host\n$newhost | New-IBObject -type record:host\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#get-all-the-aliases-on-a-host","title":"Get all the aliases on a host","text":"<pre><code>Get-IBObject -type record:host -Filter 'name=wapialiased.test.org' -fields 'aliases' -base\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#remove-or-modify-aliases-from-a-host","title":"Remove or modify aliases from a host","text":"<pre><code># using a $myhost variable returned by Get-IBObject\n\n# remove all existing aliases by sending an empty list\n$myhost | Set-IBObject -template @{aliases=@()}\n\n# or modify by sending a new list\n$myhost | Set-IBObject -template @{aliases=@('remote2')}\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#add-a-cname","title":"Add a CNAME","text":"<pre><code>$cname = @{name='cname.test.org';canonical='wapi.test.org'}\nNew-IBObject -type record:cname -IBObject $cname\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#delete-a-cname","title":"DELETE a CNAME","text":"<pre><code># get a reference to the existing object\n$myCname = Get-IBObject -type record:cname -Filter 'name=cname.test.org'\n\n# delete it\n$myCname | Remove-IBObject\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#move-a-cname-to-point-to-a-new-canonical","title":"Move a CNAME to point to a new canonical","text":"<pre><code># get a reference to the existing object\n$myCname = Get-IBObject -type record:cname -Filter 'name=cname.test.org'\n\n# set a new canonical\n$myCname | Set-IBObject -template @{canonical='wapi-new.test.org'}\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#add-a-network-or-a-container","title":"Add a network or a container","text":"<pre><code># NIOS will auto create the container if it needs to\nNew-IBObject -type network -IBObject @{network='45.0.45.0/24'}\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#add-a-network-and-assign-to-a-member","title":"Add a network and assign to a member","text":"<pre><code># build the network variable\n$newNet = @{network='45.0.46.0/24'; members=@()}\n$newNet.members += @{'_struct'='dhcpmember'; ipv4addr='192.168.1.3'}\n\n\n# create the network\n$newNet | New-IBObject -type network\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#add-a-dhcp-range","title":"Add a DHCP range","text":"<pre><code># build the range variable\n$newRange = @{ start_addr='45.0.46.20'; end_addr='45.0.46.101' }\n$newRange.server_association_type = 'MEMBER'\n$newRange.member = @{ '_struct'='dhcpmember'; ipv4addr='192.168.1.3' }\n\n# create the range\n$newRange | New-IBObject -type range\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#add-a-dhcp-reserved-range","title":"Add a DHCP reserved range","text":"<pre><code># If you don't assign a member, the range just gets created as 'reserved'\nNew-IBObject -type range -IBObject @{ start_addr='45.0.46.20'; end_addr='45.0.46.101' }\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#add-a-zone-association-to-a-network","title":"Add a zone association to a network","text":"<pre><code># create a template object\n$zoneAssoc = @{ zone_associations=@() }\n$zoneAssoc.zone_associations += @{ fqdn='test.org'; is_default=$true }\n\n# assuming you have the network object reference string already\nSet-IBObject -ref 'network/ZG5zLm5l...' -template $zoneAssoc\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#list-the-zone_associations-on-a-network","title":"List the zone_associations on a network","text":"<pre><code># assuming you have the network object reference string already\nGet-IBObject -ref 'network/ZG5zLm5l...' -fields 'zone_associations' -base\n\n# or not\nGet-IBObject -type network -Filter 'network=45.0.46.0/24' -fields 'zone_associations' -base\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#add-a-zone-of-type-forward","title":"Add a zone, of type forward","text":"<p><code>forwarding_servers</code> are the grid members that will forward for that zone</p> <pre><code># build the zone variable\n$fwdZone = @{ fqdn='foo.com'; forward_to=@(); forwarding_servers=@() }\n$fwdZone.forward_to += @{ address='1.1.1.1'; name='ns.foo.com' }\n$fwdZone.forward_to += @{ address='1.1.1.2'; name='ns2.foo.com' }\n$fwdZone.forwarding_servers += @{ name='infoblox2.localdomain' }\n$fwdZone.forwarding_servers += @{ name='infoblox1.localdomain' }\n\n# create the zone\n$fwdZone | New-IBObject -type zone_forward\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#get-restart-status-of-grid-services","title":"Get \"restart status\" of grid services","text":"<pre><code># First make a function call to 'refresh the restartservicestatus object'\n# (this doesn't return any data)\nGet-IBObject -type grid | \n    Invoke-IBFunction -name requestrestartservicestatus -args @{service_option='ALL'}\n\n# Now get the updated restartservicestatus object\n# If the status for things is REQUESTING, wait a few seconds and try again\nGet-IBObject -type restartservicestatus\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#restart-services","title":"Restart services","text":"<pre><code>$restartArgs = @{member_order='SIMULTANEOUSLY';service_option='ALL'}\nGet-IBObject -type grid | Invoke-IBFunction -name restartservices -args $restartArgs\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#export-a-database","title":"Export a database","text":"<p>In Posh-IBWAPI 2.x or later:</p> <pre><code>Receive-IBFile -FunctionName getgriddata -OutFile .\\backup.tar.gz -FunctionArgs @{type='BACKUP'}\n</code></pre> <p>In Posh-IBWAPI 1.x:</p> <pre><code># request a download token and URL\n$dl = Invoke-IBFunction -ref fileop -name getgriddata -args @{type='BACKUP'}\n\n# download the file\nInvoke-IBWAPI -Uri $dl.url -ContentType 'application/force-download' `\n              -Credential (Get-IBConfig).Credential `\n              -OutFile .\\backup.tar.gz\n\n# inform Infoblox that the download is complete\nInvoke-IBFunction -ref fileop -name downloadcomplete -args @{token=$dl.token}\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#export-a-csv-file","title":"Export a CSV file","text":"<p>In Posh-IBWAPI 2.x or later:</p> <pre><code>Receive-IBFile -FunctionName csv_export -OutFile .\\hosts.csv -FunctionArgs @{_object='record:host'}\n</code></pre> <p>In Posh-IBWAPI 1.x:</p> <pre><code># request a download token and URL\n$dl = Invoke-IBFunction -ref fileop -name csv_export -args @{_object='record:host'}\n\n# download the file\nInvoke-IBWAPI -Uri $dl.url -ContentType 'application/force-download' `\n              -Credential (Get-IBConfig).Credential `\n              -OutFile .\\hosts.csv\n\n# inform Infoblox that the download is complete\nInvoke-IBFunction -ref fileop -name downloadcomplete -args @{token=$dl.token}\n</code></pre>"},{"location":"Guides/Definitive-REST-Examples/#export-the-results-of-a-wapi-call","title":"Export the results of a WAPI call","text":"<p>And save the data to disk. (Yes, you can cache results)</p> <pre><code># build the args object\n$funcArgs = @{ _encoding='JSON'; _filename='allhosts.corp.org.json';\n               _object='record:host'; _return_fields='name,extattrs';\n               zone='corp.org' }\n\n# call the function\nInvoke-IBFunction -ref fileop -name read -args $funcArgs\n\n# The file will be in a folder 'wapi_output' in the HTTP file distribution\n</code></pre>"},{"location":"Guides/Development-Notes/","title":"Development Notes","text":""},{"location":"Guides/Development-Notes/#observations-invoke-restmethod-and-authentication","title":"Observations: Invoke-RestMethod and authentication","text":"<ul> <li>Using both -WebSession and -SessionVariable in the same call is not supported and will generate an exception.</li> <li>The <code>WebRequestSession</code> object set by <code>-SessionVariable</code> contains a copy of the <code>-Credential</code> used and the <code>ibapauth</code> cookie returned from Infoblox.</li> <li>When the session expires, the embedded credential will automatically be used to re-authenticate on the next call and update cookie in the session object.</li> <li>Instead of using <code>-SessionVariable</code>, it is possible to pre-create a <code>WebRequestSession</code> object with embedded credentials and use that with <code>-WebSession</code> instead of making a separate call with <code>-SessionVariable</code> first. It will automatically authenticate the same way it does if the login cookie had expired.</li> </ul> <pre><code>   $session = New-Object Microsoft.PowerShell.Commands.WebRequestSession\n   $session.Credentials = (Get-Credential).GetNetworkCredential()\n   Invoke-RestMethod -Uri \"http://example.com\" -WebSession $session\n</code></pre> <ul> <li>It is possible to use both <code>-Credential</code> and <code>-WebSession</code> in the same call. If the <code>ibapauth</code> cookie in the session object is still valid, that will be used even if the explicit credential object is a different user. If there is no cookie or the cookie is expired, the explicit credential object will override any credential embedded in the session object.</li> </ul> <p>Because the functions in this module are largely just wrapping Invoke-RestMethod, all of the observations listed above apply to this module's functions that take the same parameters.</p>"},{"location":"Guides/Development-Notes/#observations-disabling-certificate-validation","title":"Observations: Disabling Certificate Validation","text":"<p>There is unfortunately no native support in <code>Invoke-RestMethod</code> (or any related cmdlet) for per-call disabling of certificate validation. Validation logic is controlled globally at the .NET level on a per-session basis in System.Net.ServicePointManager. In order to mimic a per-call disable flag, we're essentially disabling cert validation globally just long enough to make our call to <code>Invoke-RestMethod</code> and then setting it back to the default functionality.</p> <p>However, the <code>ServicePointManager</code> seems to cache the validation results for each base URL. The result is that for a short period of time (minutes), cert validation will continue to appear to be disabled when making calls against the same WAPI endpoint even though cert validation is technically turned back on.</p> <p>There may be a way to shorten the cache duration by changing the value of ServicePointManager.MaxServicePointIdleTime. But even setting it to 0 doesn't remove the cached validation immediately. There's still a delay likely waiting for the idle object to be garbage collected.</p> <p>For the time being, we're going to leave <code>MaxServicePointIdleTime</code> alone as it's likely an extreme edge case that someone would need to disable cert validation for a single call and then turn it back on for the same WAPI endpoint in quick succession. Most of the people who care about this feature are running Infoblox with the default self-signed certificate and will just choose to always have certificate validation disabled.</p> <p>UPDATE: The version of Invoke-RestMethod included in PowerShell Core 6.0 includes a -SkipCertificateCheck parameter which should resolve this issue at least for Core edition users. Hopefully Microsoft will back port those changes into Desktop edition eventually.</p>"},{"location":"Guides/Stateless-Mode/","title":"Stateless Mode","text":"<p>Particularly in cloud environments, being able to use the module without needing to run an explicit configuration command like <code>Set-IBConfig</code> can be very useful. Posh-IBWAPI 4.0 now allows you to do that by specifying configuring the properties of a typical connection profile as environment variables. If the module is imported and sees these environment variables, they will override any local config file that may exist.</p> <p>Note</p> <p>The environment variable based profile will also override any SecretManagement related environment variables which are also new in 4.0</p>"},{"location":"Guides/Stateless-Mode/#supported-environment-variables","title":"Supported Environment Variables","text":"<p>The rules for these values mimic the rules for the equivalent parameters in <code>Set-IBConfig</code> except the Credential is split out into separate username and password values.</p> Name Example Notes IBWAPI_HOST gm.example.com (Required) This can be an FQDN or IP address IBWAPI_VERSION 2.12.1 (Required) A valid WAPI version string IBWAPI_USERNAME admin (Required) The account username IBWAPI_PASSWORD infoblox (Required) The plaintext password IBWAPI_SKIPCERTCHECK True (Optional) False if not defined, empty, or equal to 'False', 'No', or '0' IBWAPI_NOSESSION True (Optional) False if not defined, empty, or equal to 'False', 'No', or '0' <p>The values are read during module import. So if you set them after the module is already loaded or need to change the values, you will need to force re-load the module for them to take effect.</p> <pre><code>Import-Module Posh-IBWAPI -Force\n</code></pre> <p>You'll know it's working if you run <code>Get-IBConfig</code> and see a profile called <code>ENV</code> with your details similar to this:</p> <pre><code>ProfileName WAPIHost       WAPIVersion CredentialUser SkipCertificateCheck\n----------- --------       ----------- -------------- --------------------\nENV         gm.example.com 2.12.1      admin          False\n</code></pre> <p>Also a warning will be thrown if you attempt to use <code>Set-IBConfig</code> or <code>Remove-IBConfig</code> while an environment variable based profile is active.</p>"},{"location":"Guides/Using-Get-IBSchema/","title":"Using Get-IBSchema","text":"<p>In WAPI 1.7.5 (NIOS 6.12), Infoblox added a <code>_schema</code> option to GET queries that will ignore most of the normal options and return a JSON view of the object model for the object type specified. This was presumably so that one could programmatically discover the WAPI object model without necessarily needing to look at the full HTML or PDF documentation. In WAPI 2.0 (NIOS 6.12 and 7.0), they expanded on the schema querying functionality by adding more metadata to the object model and a <code>_get_doc</code> option that returned human readable text descriptions. It feels like they're trying to slowly move towards feature parity with the full HTML/PDF documentation which will be awesome if/when they get there.</p> <p>The goal of <code>Get-IBSchema</code> is to provide a <code>Get-Help</code> style view of the WAPI object model so that you don't necessarily have to continually reference the full documentation as you are developing your code. Some of the WAPI objects have fairly large object models and the full output can be pretty dense and long. So there are a lot of parameters that can help filter the output to only what you want to see.</p> <p>Note</p> <p>Most of the examples below will be queried from a WAPI 2.0+ appliance. They should work the same way against 1.7.5, but there might be less data returned.</p>"},{"location":"Guides/Using-Get-IBSchema/#the-basics","title":"The Basics","text":"<p><code>Get-IBSchema</code> uses the same common connection settings as other *-IBObject queries including values saved with <code>Set-IBConfig</code>. It's important to note that the WAPI will return a view of the schema that is filtered for the WAPI version you request. So if your WAPI version is 2.x and your requested version is 1.5, you'll get the schema that existed in WAPI 1.5. This is cool because you can do schema queries for WAPI versions that didn't originally support schema queries.</p> <p>Calling <code>Get-IBSchema</code> with no parameters or only a <code>-WAPIVersion</code> will return the base schema which includes the list of supported versions and the list of supported objects. For example:</p> <pre><code>PS C:\\&gt; Get-IBSchema -version 1.5\n\nRequested Version: 1.5\n\nSupported Versions:\n\n1.0                          1.5                          1.7.5                        2.3\n1.1                          1.6                          2.0                          2.3.1\n1.2                          1.6.1                        2.1                          2.4\n1.2.1                        1.7                          2.1.1                        2.5\n1.3                          1.7.1                        2.1.2                        2.6\n1.4                          1.7.2                        2.2                          2.6.1\n1.4.1                        1.7.3                        2.2.1                        2.7\n1.4.2                        1.7.4                        2.2.2\n\nSupported Objects:\n\nallrecords                   ipv6networkcontainer         record:cname                 sharedrecord:a\ncsvimporttask                ipv6range                    record:host                  sharedrecord:aaaa\ndiscovery:device             ipv6sharednetwork            record:host_ipv4addr         sharedrecord:mx\ndiscovery:deviceinterface    lease                        record:host_ipv6addr         sharedrecord:srv\ndiscovery:deviceneighbor     macfilteraddress             record:mx                    sharedrecord:txt\ndiscovery:status             member                       record:naptr                 snmpuser\nfileop                       namedacl                     record:ptr                   view\nfixedaddress                 network                      record:srv                   zone_auth\ngrid                         networkcontainer             record:txt                   zone_delegated\ngrid:dhcpproperties          networkview                  restartservicestatus         zone_forward\nipv4address                  permission                   roaminghost                  zone_stub\nipv6address                  range                        scheduledtask\nipv6fixedaddress             record:a                     search\nipv6network                  record:aaaa                  sharednetwork\n</code></pre> <p>To get the specifics for a particular object, add it with the <code>-ObjectType</code> parameter. The \"RESTRICTIONS\" section are the operations not supported by this object. Some objects may also have a \"CLOUD RESTRICTIONS\" section that has the operations not supported when querying via a cloud appliance.</p> <p>Without any additional parameters, the fields are displayed in a table format similar to the \"Fields List\" section from the full docs. The TYPE column shows the data type of that field and whether it is an array or not indicated by <code>[]</code> after the type name. The SUPPORTS column indicates what operations are allowed for each field (R = Read/Get, W = Write/Create, U = Update/Modify, D = Delete, S = Search). The BASE column indicates whether the field is returned by default as part of the base object. The SEARCH column indicates what types of searches are allowed against that field (case-insensitive, regex, greater than, etc). If the object has functions associated with it, those are displayed in a separate section below the fields table.</p> <pre><code>PS C:\\&gt; Get-IBSchema member\n\nOBJECT\n    member (WAPI 2.7)\n\nRESTRICTIONS\n    scheduling, csv\n\nFIELD                              TYPE                         SUPPORTS BASE SEARCH\n-----                              ----                         -------- ---- ------\nactive_position                    string                       R\nadditional_ip_list                 interface[]                  RWU\nbgp_as                             bgpas[]                      RWU\ncomment                            string                       RWU S         :=~\nconfig_addr_type                   enum                         RWU S    X    =\ndns_resolver_setting               setting:dnsresolver          RWU\ndscp                               uint                         RWU\nemail_setting                      setting:email                RWU\nenable_ha                          bool                         RWU S         =\nenable_lom                         bool                         RWU\nenable_member_redirect             bool                         RWU\nenable_ro_api_access               bool                         RWU S         =\nextattrs                           extattr                      RWU\nexternal_syslog_backup_servers     extsyslogbackupserver[]      RWU\nexternal_syslog_server_enable      bool                         RWU\nhost_name                          string                       RWU S    X    :=~\nipv4_address                       string                           S         =\nipv6_address                       string                           S         =\nipv6_setting                       ipv6setting                  RWU\nipv6_static_routes                 ipv6setting[]                RWU\nis_dscp_capable                    bool                         R\nlan2_enabled                       bool                         RWU\nlan2_port_setting                  lan2portsetting              RWU\nlcd_input                          bool                         RWU\nlom_network_config                 lomnetworkconfig[]           RWU\nlom_users                          lomuser[]                    RWU\nmaster_candidate                   bool                         RWU S         =\nmember_service_communication       memberservicecommunication[] RWU\nmgmt_port_setting                  mgmtportsetting              RWU\nmmdb_ea_build_time                 timestamp                    R\nmmdb_geoip_build_time              timestamp                    R\nnat_setting                        natsetting                   RWU\nnode_info                          nodeinfo[]                   RWU\nntp_setting                        member:ntp                   RWU\nospf_list                          ospf[]                       RWU\npassive_ha_arp_enabled             bool                         RWU\nplatform                           enum                         RWU S    X    =\npre_provisioning                   preprovision                 RWU\npreserve_if_owns_delegation        bool                         RWU S         =\nremote_console_access_enable       bool                         RWU\nrouter_id                          uint                         RWU S         =\nservice_status                     memberservicestatus[]        R\nservice_type_configuration         enum                         RWU S    X    =\nsnmp_setting                       setting:snmp                 RWU\nstatic_routes                      setting:network[]            RWU\nsupport_access_enable              bool                         RWU\nsupport_access_info                string                       R\nsyslog_proxy_setting               setting:syslogproxy          RWU\nsyslog_servers                     syslogserver[]               RWU\nsyslog_size                        uint                         RWU\nthreshold_traps                    thresholdtrap[]              RWU\ntime_zone                          string                       RWU\ntrap_notifications                 trapnotification[]           RWU\nupgrade_group                      string                       RWU\nuse_dns_resolver_setting           bool                         RWU\nuse_dscp                           bool                         RWU\nuse_email_setting                  bool                         RWU\nuse_enable_lom                     bool                         RWU\nuse_enable_member_redirect         bool                         RWU\nuse_external_syslog_backup_servers bool                         RWU\nuse_lcd_input                      bool                         RWU\nuse_remote_console_access_enable   bool                         RWU\nuse_snmp_setting                   bool                         RWU\nuse_support_access_enable          bool                         RWU\nuse_syslog_proxy_setting           bool                         RWU\nuse_threshold_traps                bool                         RWU\nuse_time_zone                      bool                         RWU\nuse_trap_notifications             bool                         RWU\nuse_v4_vrrp                        bool                         RWU\nvip_setting                        setting:network              RWU\nvpn_mtu                            uint                         RWU\n\nFUNCTIONS\n    capture_traffic_control(action, interface, seconds_to_run)\n    capture_traffic_status() =&gt; status, file_exists, file_size\n    create_token() =&gt; pnode_tokens\n    member_admin_operation(operation)\n    read_token() =&gt; pnode_tokens\n    requestrestartservicestatus(service_option)\n    restartservices(restart_option, service_option)\n</code></pre>"},{"location":"Guides/Using-Get-IBSchema/#filtering-results","title":"Filtering Results","text":"<p>The full output of some objects can be pretty long and while you could just pipe the output to <code>more</code> to get a paged view, you can also use <code>-Fields</code>, <code>-NoFields</code>, <code>-Operations</code>, <code>-Functions</code>, and <code>-NoFunctions</code> to limit the output.</p> <p><code>-Fields</code> takes a string array (optionally with wildcards) and filters the field list to only those fields that match at least one of the strings. So if you wanted to filter IP and NAT related fields on the <code>member</code> example above, you could do this:</p> <pre><code>PS C:\\&gt; Get-IBSchema member -Fields ip*,nat*\n\nOBJECT\n    member (WAPI 2.7)\n\nRESTRICTIONS\n    scheduling, csv\n\nFIELD              TYPE          SUPPORTS BASE SEARCH\n-----              ----          -------- ---- ------\nipv4_address       string            S         =\nipv6_address       string            S         =\nipv6_setting       ipv6setting   RWU\nipv6_static_routes ipv6setting[] RWU\nnat_setting        natsetting    RWU\n\nFUNCTIONS\n    capture_traffic_control(action, interface, seconds_to_run)\n    capture_traffic_status() =&gt; status, file_exists, file_size\n    create_token() =&gt; pnode_tokens\n    member_admin_operation(operation)\n    read_token() =&gt; pnode_tokens\n    requestrestartservicestatus(service_option)\n    restartservices(restart_option, service_option)\n</code></pre> <p>And if you wanted to exclude the functions from the output, just add the <code>-NoFunctions</code> switch:</p> <pre><code>PS C:\\&gt; Get-IBSchema member -Fields ip*,nat* -NoFunctions\n\nOBJECT\n    member (WAPI 2.7)\n\nRESTRICTIONS\n    scheduling, csv\n\nFIELD              TYPE          SUPPORTS BASE SEARCH\n-----              ----          -------- ---- ------\nipv4_address       string            S         =\nipv6_address       string            S         =\nipv6_setting       ipv6setting   RWU\nipv6_static_routes ipv6setting[] RWU\nnat_setting        natsetting    RWU\n</code></pre> <p><code>-Operations</code> is used to filter fields by the operations they support in the SUPPORTS column. It also takes a string array (no wildcards) comprised of letter codes you want to limit the results to. So if you only wanted to return the fields that are searchable, you could do this:</p> <pre><code>PS C:\\&gt; Get-IBSchema member -Operations s -NoFunctions\n\nOBJECT\n    member (WAPI 2.7)\n\nRESTRICTIONS\n    scheduling, csv\n\nFIELD                       TYPE     SUPPORTS BASE SEARCH\n-----                       ----     -------- ---- ------\ncomment                     string   RWU S         :=~\nconfig_addr_type            enum     RWU S    X    =\nenable_ha                   bool     RWU S         =\nenable_ro_api_access        bool     RWU S         =\nhost_name                   string   RWU S    X    :=~\nipv4_address                string       S         =\nipv6_address                string       S         =\nmaster_candidate            bool     RWU S         =\nplatform                    enum     RWU S    X    =\npreserve_if_owns_delegation bool     RWU S         =\nrouter_id                   uint     RWU S         =\nservice_type_configuration  enum     RWU S    X    =\n</code></pre> <p>If you're done checking field details and want to know about specific functions, <code>-Functions</code> works the same way as <code>-Fields</code> and <code>-NoFields</code> works the same way as <code>-NoFunctions</code>. So let's say you want to see the traffic capture related functions for <code>member</code>, you could do something like this:</p> <pre><code>PS C:\\&gt; Get-IBSchema member -Functions capture* -NoFields\n\nOBJECT\n    member (WAPI 2.7)\n\nRESTRICTIONS\n    scheduling, csv\n\nFUNCTIONS\n    capture_traffic_control(action, interface, seconds_to_run)\n    capture_traffic_status() =&gt; status, file_exists, file_size\n</code></pre>"},{"location":"Guides/Using-Get-IBSchema/#detailed-view","title":"Detailed View","text":"<p>The default view of fields and functions is intended to be a quick reference. But particularly for functions, sometimes you need more detail. For that, you can use the <code>-Detailed</code> switch:</p> <pre><code>PS C:\\&gt; Get-IBSchema member -Functions capture* -NoFields -Detailed\n\nOBJECT\n    member (WAPI 2.7)\n\nRESTRICTIONS\n    scheduling, csv\n\nFUNCTIONS\n\n    ----------------------------------------------------------\n    capture_traffic_control\n    ----------------------------------------------------------\n        Starts/Stops a traffic capture session on the specified member node.\n\n    INPUTS\n\n        action &lt;{ START | STOP }&gt;\n            The traffic capture action.\n\n        interface &lt;{ ALL | HA | LAN1 | LAN2 | MGMT }&gt;\n            The interface on which the traffic is captured.\n\n        seconds_to_run &lt;uint&gt;\n            The number of seconds for which the traffic capture is going to run.\n\n    ----------------------------------------------------------\n    capture_traffic_status\n    ----------------------------------------------------------\n        Gets traffic capture status on the specified member node.\n\n    OUTPUTS\n\n        status &lt;{ STOPPED | RUNNING | UNKNOWN }&gt;\n            The status of the capture operation for the member.\n\n        file_exists &lt;bool&gt;\n            Determines if the capture file for the member exist or not.\n\n        file_size &lt;uint&gt;\n            The size of the traffic capture file for the member.\n</code></pre> <p>It can also help to get details for fields as well. Let's add the <code>-Detailed</code> flag to one of our previous examples:</p> <pre><code>PS C:\\&gt; Get-IBSchema member -Fields ip*,nat* -NoFunctions -Detailed\nOBJECT\n    member (WAPI 2.7)\n\nRESTRICTIONS\n    scheduling, csv\n\nFIELDS\n    ipv4_address &lt;string&gt;\n        The member's IPv4 Address.\n\n        Supports: Search\n\n        This field is available for search via:\n            '=' (exact equality)\n\n    ipv6_address &lt;string&gt;\n        The member's IPv6 Address.\n\n        Supports: Search\n\n        This field is available for search via:\n            '=' (exact equality)\n\n    ipv6_setting &lt;ipv6setting&gt;\n        IPV6 setting for member.\n\n        Supports: Read, Write, Update\n\n    ipv6_static_routes &lt;ipv6setting[]&gt;\n        List of IPv6 static routes.\n\n        Supports: Read, Write, Update\n\n    nat_setting &lt;natsetting&gt;\n        NAT settings for the member.\n\n        Supports: Read, Write, Update\n</code></pre>"},{"location":"Guides/Using-Get-IBSchema/#raw-output-and-html-fallback","title":"Raw Output and HTML Fallback","text":"<p>For whatever reason, you may want to just get the raw schema data back instead of a pretty printed view. In that case, use the <code>-Raw</code> switch. Filtering parameters are ignored when using <code>-Raw</code>.</p> <pre><code>PS C:\\&gt; Get-IBSchema member -Raw\n\ncloud_additional_restrictions : {}\nfields                        : {@{doc=The active server of a Grid member.; is_array=False; name=active_position;\n                                standard_field=False; supports=r; type=System.Object[]}, @{doc=The additional IP list\n                                of a Grid member. This list contains additional interface information that can be used\n                                at the member level. Note that interface structure(s) with interface type set to\n                                'MGMT' are not supported.; is_array=True; name=additional_ip_list; schema=;\n                                standard_field=False; supports=rwu; type=System.Object[]; wapi_primitive=struct},\n                                @{doc=The BGP configuration for anycast for a Grid member.; is_array=True;\n                                name=bgp_as; schema=; standard_field=False; supports=rwu; type=System.Object[];\n                                wapi_primitive=struct}, @{doc=Starts/Stops a traffic capture session on the specified\n                                member node.; is_array=False; name=capture_traffic_control; schema=;\n                                standard_field=False; supports=rwu; type=System.Object[]; wapi_primitive=funccall}...}\nrestrictions                  : {scheduling, csv}\nschema_version                : 2\ntype                          : member\nversion                       : 2.7\nwapi_primitive                : object\n</code></pre> <p>Until schema queries reach feature parity with the HTML docs, it may still occasionally be necessary to view the full HTML. In these cases, you can use <code>-LaunchHTML</code> as a shortcut to get to the specific object page you want to view. It will attempt to \"start\" the URL for that page which should open your default web browser to the location.</p> <pre><code>PS C:\\&gt; Get-IBSchema member -LaunchHTML\n\n# (launches browser to https://&lt;WAPIHost&gt;/wapidoc/objects/member.html)\n</code></pre>"},{"location":"Guides/Using-IBFile-Functions/","title":"Using IBFile Functions","text":"<p>The Infoblox WAPI has long supported the <code>fileop</code> object type which has a bunch of functions associated with it for uploading and download data to and from the appliance (database backups, certificate uploads, etc). While it is possible to use these upload and download functions via <code>Invoke-IBFunction</code>, the process is tedious and requires multiple steps. Uploads are particularly difficult because older versions of PowerShell don't support multipart form data uploads in the native web cmdlets. So you're either forced to upgrade your PowerShell version to 6.1+ or delve into lower level .NET functionality to do the actual file upload step. To alleviate these hassles, <code>Receive-IBFile</code> and <code>Send-IBFile</code> were added in Posh-IBWAPI 2.0. Their goal is to turn uploading or downloading data from Infoblox into a single function call.</p> <p>NOTE: The examples in this guide were written against WAPI 2.10 (NIOS 8.4). If your grid is on an earlier version, functions available and their arguments might be different. Check the docs for your version if you have problems.</p>"},{"location":"Guides/Using-IBFile-Functions/#receive-ibfile","title":"Receive-IBFile","text":"<p>Let's start with downloading data because it's usually easier and probably more common. Here's the function syntax via <code>Get-Help</code></p> <pre><code>SYNTAX\n    Receive-IBFile [-FunctionName] &lt;String&gt; [-OutFile] &lt;String&gt; [[-FunctionArgs]\n    &lt;Hashtable&gt;] [[-ObjectRef] &lt;String&gt;] [-OverrideTransferHost] [[-WAPIHost]\n    &lt;String&gt;] [[-WAPIVersion] &lt;String&gt;] [[-Credential] &lt;PSCredential&gt;]\n    [-SkipCertificateCheck] [[-ProfileName] &lt;String&gt;] [&lt;CommonParameters&gt;]\n</code></pre> <p><code>FunctionName</code> and <code>OutFile</code> are the only two required parameters. But most WAPI functions will also have at least one input field you need to specify with <code>FunctionArgs</code>. <code>ObjectRef</code> is set to <code>fileop</code> by default because that's where most of the upload/download functions live. But depending on your WAPI version, there are a few tied to other object types as well. So if you're using one of those, you'd need to specify that parameter.</p> <p>We want to download a grid database backup using fileop's <code>getgriddata</code> function. To quickly review the docs for the function, run this to open a browser to the fileop object type:</p> <pre><code>Get-IBSchema fileop -LaunchHTML\n</code></pre> <p>Alternatively, you could query the function details directly. But they're usually not quite as detailed as the HTML version. It's also nice to have a browser window open for reference, but here's how to do it anyway:</p> <pre><code>Get-IBSchema fileop -Functions getgriddata -Detail -NoFields\n</code></pre> <p>The only thing you should need to care about for a download function are the inputs. To download a basic grid database backup with no discovery data (the default), we only need a single argument:</p> <pre><code>$fArgs = @{ type = 'BACKUP' }\n</code></pre> <p>Now we just call the function and we're done. Obviously, the time it takes is going to vary based on your environment and the size of your grid. It can also be significantly be faster when using PowerShell 7+ (more on that later).</p> <pre><code>Receive-IBFile -FunctionName getgriddata -OutFile .\\backup.tar.gz -FunctionArgs $fArgs\n</code></pre>"},{"location":"Guides/Using-IBFile-Functions/#send-ibfile","title":"Send-IBFile","text":"<p>Uploading data isn't that much different than downloading. Here's the function syntax:</p> <pre><code>SYNTAX\n    Send-IBFile [-FunctionName] &lt;String&gt; [-Path] &lt;String&gt; [-FunctionArgs\n    &lt;Hashtable&gt;] [-ObjectRef &lt;String&gt;] [-OverrideTransferHost] [-WAPIHost &lt;String&gt;]\n    [-WAPIVersion &lt;String&gt;] [-Credential &lt;PSCredential&gt;] [-SkipCertificateCheck]\n    [-ProfileName &lt;String&gt;] [&lt;CommonParameters&gt;]\n</code></pre> <p><code>FunctionName</code> is still required. <code>Path</code> will be the path to the file you're uploading and is required. <code>FunctionArgs</code> will hold the input fields for the WAPI function with one exception. Most upload functions have a mandatory <code>token</code> field which is returned by the <code>uploadinit</code> function. You can ignore this requirement because <code>Send-IBFile</code> will handle it for you. <code>ObjectRef</code> is still set to <code>fileop</code> by default. So you can ignore it unless your upload function is tied to another object type.</p> <p>In this example, we're going to upload a new trusted CA certificate to the grid using fileop's <code>uploadcertificate</code> function. This is useful for environments running an internal PKI infrastructure, particularly when using Microsoft Management and connecting to servers via LDAPS (LDAP over SSL). Any valid CA certificate will suffice for this example as long as it hasn't already been imported into your grid. For my own test, I'm using the Let's Encrypt CA's self-signed root, ISRG Root X1.</p> <p>Uploading a CA certificate via <code>uploadcertificate</code> requries a single input field, <code>certificate_usage</code>. We can ignore <code>token</code> because it is automatically handled by the function and we can ignore <code>member</code> because CA certificates are applied grid-wide.</p> <pre><code>$fArgs = @{ certificate_usage = 'EAP_CA' }\n</code></pre> <p>Now we just call the function and we're done.</p> <pre><code>Send-IBFile -FunctionName uploadcertificate -Path .\\myca.pem -FunctionArgs $fArgs\n</code></pre> <p>If you navigate to <code>Grid - Grid Manager - Members</code> in the web UI and click the <code>Certificates</code> button in the toolbar, you should see your freshly uploaded CA certificate in the list. Feel free to delete it, if this was just a test certificate.</p>"},{"location":"Guides/Using-IBFile-Functions/#regarding-transfer-speeds","title":"Regarding Transfer Speeds","text":"<p>Historically, Windows PowerShell was not the speediest tool for uploading or downloading large files via the web cmdlets. But there have been significant performance improvements in PowerShell 7+, particularly around the web cmdlets. So if you have the choice, definitely choose the latest verion of PowerShell over legacy Windows PowerShell as this will directly impact the performance of Posh-IBWAPI. As a completely non-scientific example, a 1 GB file took roughly 23 seconds to downloaded in PowerShell Core 7.2 on my machine using <code>Invoke-WebRequest</code>. The same file downloaded on the same system in Windows PowerShell 5.1 took roughly 10 minutes. That's about a 2600% speed increase just for using a newer version of PowerShell.</p>"},{"location":"Guides/Using-SecretManagement/","title":"Using SecretManagement","text":"<p>Prior to Posh-IBWAPI 4.0, saved connection profiles were stored in JSON config file on the local filesystem. That is still the default in 4.0, but you may now alternatively utilize the Microsoft SecretManagement module to store connection profiles in a variety of local, on-prem, and cloud secret stores using supported vault extensions.</p> <p>Warning</p> <p>Some vault extensions are read-only and don't allow for creation of new secrets. While it is technically possible to use these extensions with Posh-IBWAPI by pre-creating the necessary secrets, it is not recommended. Calls to <code>Set-IBConfig</code> and <code>Remove-IBConfig</code> will fail and likely leave the module in an inconsistent state.</p>"},{"location":"Guides/Using-SecretManagement/#prerequisites","title":"Prerequisites","text":"<p>In order to use the SecretManagement feature, you must install both the Microsoft.PowerShell.SecretManagement module and an appropriate vault extension module to interface with your preferred secret store.</p> <p>You will also need to register a new vault and make note of the vault name. It will be provided to Posh-IBWAPI using the <code>IBWAPI_VAULT_NAME</code> environment variable.</p>"},{"location":"Guides/Using-SecretManagement/#vault-password","title":"Vault Password","text":"<p>Some vaults can be configured with a password such that retrieving a secret requires first unlocking the vault with the password. In order to use a vault with Posh-IBWAPI, you have three options.</p> <ul> <li>Configure the vault so a password is not required.</li> <li>Provide the vault password using the <code>IBWAPI_VAULT_PASS</code> environment variable.</li> <li>Prior to importing the module, unlock or pre-authenticate to the vault so Posh-IBWAPI can make calls like <code>Set-Secret</code> and <code>Get-Secret</code> without error.</li> </ul>"},{"location":"Guides/Using-SecretManagement/#secret-names-and-customization","title":"Secret Names and Customization","text":"<p>Each connection profile will be stored as its own secret in the vault using the following default naming convention:</p> <p><code>poshibwapi-{0}</code></p> <p>The <code>{0}</code> is replaced with the profile name passed to <code>Set-IBConfig</code>.</p> <p>You may optionally create an environment variable called <code>IBWAPI_VAULT_SECRET_TEMPLATE</code> to override the default template. The new value should include <code>{0}</code> somewhere in the string, but will be appended to the end if it does not exist.</p> <p>Warning</p> <p>Be aware that some vaults have restrictions on the characters allowed in a secret name. In particular, Azure KeyVault is very restrictive and only allows letters, numbers, and the hyphen <code>-</code> character.</p>"},{"location":"Guides/Using-SecretManagement/#using-a-vault","title":"Using a Vault","text":""},{"location":"Guides/Using-SecretManagement/#enable-vault-profile-storage","title":"Enable Vault Profile Storage","text":"<p>To enable vault profile storage, make sure the environment variables are set properly based on the prerequisites listed above before importing the module. If you set them after the module is already loaded or need to change the values, you will need to force re-load the module for them to take effect.</p> <pre><code>Import-Module Posh-IBWAPI -Force\n</code></pre> <p>If there is a problem accessing the vault during import, an error is thrown and the module falls back to storing connection profiles on the filesystem.</p>"},{"location":"Guides/Using-SecretManagement/#disable-vault-key-storage","title":"Disable Vault Key Storage","text":"<p>To disable vault profile storage, just remove the vault related environment variables and force re-load the module. There is currently no way to migrate local profiles to vault profiles or the other way around. This may be added in a future release.</p>"},{"location":"Guides/Using-SecretManagement/#additional-considerations","title":"Additional Considerations","text":""},{"location":"Guides/Using-SecretManagement/#azure-keyvault","title":"Azure KeyVault","text":"<p>Azure KeyVault has deprecated the ability to have vaults that allow immediate secret removal. \"soft-delete\" is now the default mode and will soon be mandatory which makes it so that deleted secrets are kept in a sort of recycle-bin until their configurable retention period expires.</p> <p>If you attempt to create a new secret using the SecretManagement module with a name that matches a soft-deleted secret, the call will fail. This means certain profile management actions within Posh-IBWAPI may fail like removing a connection profile and then re-creating it later or renaming one and then renaming it back.</p> <p>While it is possible to purge soft-deleted secrets, it is not possible using only the SecretManagement module. I have opened feature request #19733 to address this with the Azure PowerShell team.</p>"},{"location":"Guides/Using-SecretManagement/#sharing-configs-and-vaults","title":"Sharing Configs and Vaults","text":"<p>When using centralized vaults, it is possible to point multiple instances of Posh-IBWAPI to the same vault and effectively share the config. However, keep in mind that if one instances changes a profile or changes the active profile, the change won't be seen by the other instances unless they force re-load the module or load a new instance.</p>"},{"location":"Guides/WAPI-to-NIOS-Versions/","title":"WAPI to NIOS Versions","text":"<p>This is mostly for my own reference so I don't continually have to look it up elsewhere. Feel free to submit corrections/updates.</p> WAPI version NIOS version EOL Date 2.12.2 8.6.2 2024-10-31 2.12.1 8.6.1 2024-10-31 2.12 8.6.0 2024-10-31 2.11.1 8.5.1 2023-10-31 2.11 8.5 2023-10-31 2.10.5 8.4.5-7 2022-03-02 2.10.3 8.4.4 2022-03-02 2.10.1 8.4.2-3 2022-03-02 2.10 8.4.0-1 2022-03-02 2.9.7 8.3.7-8 2021-07-31 2.9.5 8.3.6 2021-07-31 2.9.1 8.3.2-5 2021-07-31 2.9 8.3.0-1 2021-07-31 2.7.3 8.2.6-9 2020-07-25 2.7.1 8.2.4-5 2020-07-25 2.7 8.2.0-3 2020-07-25 2.6.1 8.1.1-8 2020-03-30 2.6 8.1 2020-03-30 2.5 8.0.0-10 2019-10-25 2.4 7.3.17-201 + 8.0 2.3.1 7.3.4 2020-01-31 2.3 7.3 2020-01-31 2.2.2 7.2.4-19 2018-07-27 2.2.1 ? 2.2 ? 2.1.2 ? 2.1.1 ? 2.1 7.1.11 2018-04-30 2.0 7.0 2017-12-19 1.7.5 6.12.28 1.7.4 ? 1.7.3 ? 1.7.2 ? 1.7.1 ? 1.7 ? 1.6.1 ? 1.6 6.11 1.5 ? 1.4.2 ? 1.4.1 ? 1.4 6.10.14-203 1.3 ? 1.2.1 6.8.13 1.2 ? 1.1 ? 1.0 ?"}]}